<!DOCTYPE html>
<html>
<head>
  
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript" src="js/jquery.tablesorter.min.js"></script>
<script type="text/javascript" src="js/Chart.min.js"></script>
<script type="text/javascript" src="js/moment.min.js"></script>
<script type="text/javascript" src="js/bootstrap.min.js"></script>

<link rel="stylesheet" href="css/bootstrap.min.css" type="text/css"/>
<link rel="stylesheet" href="css/cucumber.css" type="text/css"/>
<link rel="stylesheet" href="css/font-awesome.min.css"/>
<link rel="shortcut icon" href="images/favicon.png"/>

<script type="text/javascript">
$(document).ready(function() {
    // this will tell tablesorter to try looking for the data-value attribute
    // if present, it'll sort by that instead
    // otherwise, it'll sort by the text content of the table cell
    $("#tablesorter").tablesorter({
        textAttribute: 'data-value',
        // ignores the first row of the header, the 'scenario', 'steps', since
        // sorting those doesn't make sense
        selectorHeaders: '> thead tr:not(.dont-sort) th',
        // use a stable sort
        sortStable: true
    });
});
</script>











  
<title>Cucumber Reports (no 1.0.2-SNAPSHOT) - Feature: OptionalMatchAcceptance</title>

</head>
<body>

<nav class="navbar navbar-default navbar-fixed-top" id="navigation">
  <div class="container-fluid">
    <div class="collapse navbar-collapse">
      <p class="navbar-text navbar-left">Cucumber Report</p>
      <ul class="nav navbar-nav navbar-right">
                <li role="presentation" ><a href="overview-features.html">Features</a></li>
        <li role="presentation" ><a href="overview-tags.html">Tags</a></li>
        <li role="presentation" ><a href="overview-steps.html">Steps</a></li>
                <li role="presentation" ><a href="overview-failures.html">Failures</a></li>
      </ul>
    </div>
  </div>
</nav>


<div class="container-fluid">
  <div class="col-md-5 col-md-offset-1">
    
<table class="table table-bordered" id="build-info">
  <thead>
    <tr>
      <th>Project</th>
              <th>Number</th>
            <th>Date</th>
    </tr>
  </thead>
  <tbody>
    <tr class="info">
      <td>cypher-for-gremlin</td>
              <td>1.0.2-SNAPSHOT</td>
            <td>31 May 2019, 13:18</td>
    </tr>
  </tbody>
</table>

  </div>
  <div class="col-md-3 col-md-offset-2">
      </div>
</div>


<div id="report-lead" class="container-fluid">
  <div class="col-md-10 col-md-offset-1">
    <h2>Feature Report</h2>
      </div>
</div>


<div class="container-fluid" id="report">
  <div class="row">
    <div class="col-md-10 col-md-offset-1">
      <table class="stats-table">

        
<thead>
  <tr class="header dont-sort">
        <th></th>
    <th colspan="6">Steps</th>
    <th colspan="3">Scenarios</th>
    <th colspan="2">Features</th>
  </tr>
  <tr>
    <th>Feature</th>
        <th class="passed">Passed</th>
    <th class="failed">Failed</th>
    <th class="skipped">Skipped</th>
    <th class="pending">Pending</th>
    <th class="undefined">Undefined</th>
    <th class="total">Total</th>

    <th class="passed">Passed</th>
    <th class="failed">Failed</th>
    <th class="total">Total</th>

    <th>Duration</th>
    <th>Status</th>
  </tr>
</thead>


        <tbody>
        <tr>
          <td class="tagname">OptionalMatchAcceptance</td>
          <td      class="passed"    >126</td>
          <td      class="failed"    >2</td>
          <td >0</td>
          <td >0</td>
          <td >0</td>
          <td class="total">128</td>

          <td  class="passed"    >23</td>
          <td  class="failed"    >2</td>
          <td class="total">25</td>

          <td class="duration" data-value="2810">0.000</td>
          <td class="failed">Failed</td>
        </tr>
        </tbody>

      </table>
    </div>
  </div>
</div>



<div class="container-fluid">
  <div class="row">
    <div class="col-md-10 col-md-offset-10">
      <i class="fa fa-chevron-circle-down fa-2x collapsable-control"
        onClick="javascript:$('#report .collapsable-details').collapse('show')"></i>
      <i class="fa fa-chevron-circle-up fa-2x collapsable-control"
        onClick="javascript:$('#report .collapsable-details').collapse('hide')"></i>
    </div>
  </div>
</div>


<div class="container-fluid" id="report">
  <div class="row">
    <div class="col-md-10 col-md-offset-1">
      <div class="feature">
        
<div class="tags indention">
  </div>

        
<div class="brief failed">
  <span class="keyword indention">Feature</span>
  <span class="name">OptionalMatchAcceptance</span>
  

  </div>

        <div class="description indention"></div>

        <div class="elements inner-level">
                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-1">
    
<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-1" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-2">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-2" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Given</span>
  <span class="name">an empty graph</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-3">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-3" class="collapse collapsable-details " >
          
          <pre><p>13:16:54.501 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().drop()}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-4">
          <a>Doc string</a>
      </div>
      <div id="msg-4" class="collapse collapsable-details">
        <pre>CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-5">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-5" class="collapse collapsable-details " >
          
          <pre><p>13:16:54.504 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (s:Single), (a:A {prop: 42}),        (b:B {prop: 46}), (c:C) CREATE (s)-[:REL]-&gt;(a),        (s)-[:REL]-&gt;(b),        (a)-[:REL]-&gt;(c),        (b)-[:LOOP]-&gt;(b)
13:16:54.504 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:54.524 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('Single').as('s').addV('A').as('a').property(single, 'prop', 42).addV('B').as('b').property(single, 'prop', 46).addV('C').as('c').addE('REL').from('s').to('a').addE('REL').from('s').to('b').addE('REL').from('a').to('c').addE('LOOP').from('b').to('b').barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-6">
    
<div class="brief passed">
  <span class="keyword indention">Scenario</span>
  <span class="name">Return null when no matches due to inline label predicate</span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-6" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-7">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-7" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">When</span>
  <span class="name">executing query:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-8">
          <a>Doc string</a>
      </div>
      <div id="msg-8" class="collapse collapsable-details">
        <pre>MATCH (n:Single)
OPTIONAL MATCH (n)-[r]-(m:NonExistent)
RETURN r</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-9">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-9" class="collapse collapsable-details " >
          
          <pre><p>13:16:54.649 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n:Single) OPTIONAL MATCH (n)-[r]-(m:NonExistent) RETURN r
13:16:54.660 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n:Single)
OPTIONAL MATCH (n)-[r]-(m:NonExistent)
RETURN r}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:54.702 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().as('n').hasLabel('Single').choose(__.select('n').bothE().as('r').otherV().as('m').hasLabel('NonExistent').dedup('n', 'r', 'm'), __.select('n').bothE().as('r').otherV().as('m').hasLabel('NonExistent').dedup('n', 'r', 'm'), __.constant('  cypher.null').as('r').as('m')).select('r').project('r').by(__.choose(neq('  cypher.null'), __.project('  cypher.element', '  cypher.inv', '  cypher.outv').by(__.valueMap().with('~tinkerpop.valueMap.tokens')).by(__.inV().id()).by(__.outV().id())))
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Then</span>
  <span class="name">the result should be:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


                  <table class="step-arguments">
                          <tr>
                                  <td>r</td>
                              </tr>
                          <tr>
                                  <td>null</td>
                              </tr>
                      </table>
        
        

        

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">no side effects</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-10">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-10" class="collapse collapsable-details " >
          
          <pre><p>13:16:54.743 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n) RETURN id(n)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:54.746 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) RETURN id(n)
13:16:54.755 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().project('id(n)').by(__.id())
13:16:54.759 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH ()-[r]-&gt;() RETURN id(r)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:54.760 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH ()-[r]-&gt;() RETURN id(r)
13:16:54.770 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.E().project('id(r)').by(__.id())
13:16:54.772 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n)
UNWIND labels(n) AS label
RETURN DISTINCT label}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:54.773 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) UNWIND labels(n) AS label RETURN DISTINCT label
13:16:54.782 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().map(__.label().is(neq('vertex')).fold()).unfold().project('label').by(__.identity()).dedup()
13:16:54.786 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().as('V').properties().project('nodeId', 'key', 'value').by(__.select('V').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:54.790 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().outE().as('E').properties().project('relId', 'key', 'value').by(__.select('E').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
-labels:        0
+labels:        0
+nodes:         0
-nodes:         0
-properties:    0
+properties:    0
-relationships: 0
+relationships: 0</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-11">
    
<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-11" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-12">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-12" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Given</span>
  <span class="name">an empty graph</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-13">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-13" class="collapse collapsable-details " >
          
          <pre><p>13:16:54.810 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().drop()}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-14">
          <a>Doc string</a>
      </div>
      <div id="msg-14" class="collapse collapsable-details">
        <pre>CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-15">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-15" class="collapse collapsable-details " >
          
          <pre><p>13:16:54.815 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:54.816 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (s:Single), (a:A {prop: 42}),        (b:B {prop: 46}), (c:C) CREATE (s)-[:REL]-&gt;(a),        (s)-[:REL]-&gt;(b),        (a)-[:REL]-&gt;(c),        (b)-[:LOOP]-&gt;(b)
13:16:54.835 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('Single').as('s').addV('A').as('a').property(single, 'prop', 42).addV('B').as('b').property(single, 'prop', 46).addV('C').as('c').addE('REL').from('s').to('a').addE('REL').from('s').to('b').addE('REL').from('a').to('c').addE('LOOP').from('b').to('b').barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-16">
    
<div class="brief passed">
  <span class="keyword indention">Scenario</span>
  <span class="name">Return null when no matches due to label predicate in WHERE</span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-16" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-17">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-17" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">When</span>
  <span class="name">executing query:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-18">
          <a>Doc string</a>
      </div>
      <div id="msg-18" class="collapse collapsable-details">
        <pre>MATCH (n:Single)
OPTIONAL MATCH (n)-[r]-(m)
WHERE m:NonExistent
RETURN r</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-19">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-19" class="collapse collapsable-details " >
          
          <pre><p>13:16:54.932 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n:Single)
OPTIONAL MATCH (n)-[r]-(m)
WHERE m:NonExistent
RETURN r}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:54.932 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n:Single) OPTIONAL MATCH (n)-[r]-(m) WHERE m:NonExistent RETURN r
13:16:54.956 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().as('n').hasLabel('Single').choose(__.select('n').bothE().as('r').otherV().as('m').hasLabel('NonExistent').dedup('n', 'r', 'm'), __.select('n').bothE().as('r').otherV().as('m').hasLabel('NonExistent').dedup('n', 'r', 'm'), __.constant('  cypher.null').as('r').as('m')).select('r').project('r').by(__.choose(neq('  cypher.null'), __.project('  cypher.element', '  cypher.inv', '  cypher.outv').by(__.valueMap().with('~tinkerpop.valueMap.tokens')).by(__.inV().id()).by(__.outV().id())))
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Then</span>
  <span class="name">the result should be:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


                  <table class="step-arguments">
                          <tr>
                                  <td>r</td>
                              </tr>
                          <tr>
                                  <td>null</td>
                              </tr>
                      </table>
        
        

        

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">no side effects</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-20">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-20" class="collapse collapsable-details " >
          
          <pre><p>13:16:54.970 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n) RETURN id(n)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:54.971 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) RETURN id(n)
13:16:54.982 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().project('id(n)').by(__.id())
13:16:54.987 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH ()-[r]-&gt;() RETURN id(r)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:54.989 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH ()-[r]-&gt;() RETURN id(r)
13:16:55.002 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.E().project('id(r)').by(__.id())
13:16:55.004 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n)
UNWIND labels(n) AS label
RETURN DISTINCT label}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:55.005 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) UNWIND labels(n) AS label RETURN DISTINCT label
13:16:55.014 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().map(__.label().is(neq('vertex')).fold()).unfold().project('label').by(__.identity()).dedup()
13:16:55.017 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().as('V').properties().project('nodeId', 'key', 'value').by(__.select('V').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:55.021 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().outE().as('E').properties().project('relId', 'key', 'value').by(__.select('E').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
-labels:        0
+labels:        0
+nodes:         0
-nodes:         0
-properties:    0
+properties:    0
-relationships: 0
+relationships: 0</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-21">
    
<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-21" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-22">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-22" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Given</span>
  <span class="name">an empty graph</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-23">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-23" class="collapse collapsable-details " >
          
          <pre><p>13:16:55.039 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().drop()}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-24">
          <a>Doc string</a>
      </div>
      <div id="msg-24" class="collapse collapsable-details">
        <pre>CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-25">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-25" class="collapse collapsable-details " >
          
          <pre><p>13:16:55.043 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (s:Single), (a:A {prop: 42}),        (b:B {prop: 46}), (c:C) CREATE (s)-[:REL]-&gt;(a),        (s)-[:REL]-&gt;(b),        (a)-[:REL]-&gt;(c),        (b)-[:LOOP]-&gt;(b)
13:16:55.043 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:55.055 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('Single').as('s').addV('A').as('a').property(single, 'prop', 42).addV('B').as('b').property(single, 'prop', 46).addV('C').as('c').addE('REL').from('s').to('a').addE('REL').from('s').to('b').addE('REL').from('a').to('c').addE('LOOP').from('b').to('b').barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-26">
    
<div class="brief passed">
  <span class="keyword indention">Scenario</span>
  <span class="name">Respect predicates on the OPTIONAL MATCH</span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-26" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-27">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-27" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">When</span>
  <span class="name">executing query:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-28">
          <a>Doc string</a>
      </div>
      <div id="msg-28" class="collapse collapsable-details">
        <pre>MATCH (n:Single)
OPTIONAL MATCH (n)-[r]-(m)
WHERE m.prop = 42
RETURN m</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-29">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-29" class="collapse collapsable-details " >
          
          <pre><p>13:16:55.132 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n:Single)
OPTIONAL MATCH (n)-[r]-(m)
WHERE m.prop = 42
RETURN m}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:55.133 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n:Single) OPTIONAL MATCH (n)-[r]-(m) WHERE m.prop = 42 RETURN m
13:16:55.149 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().as('n').hasLabel('Single').choose(__.select('n').bothE().as('r').otherV().as('m').has('prop', eq(42)).dedup('n', 'r', 'm'), __.select('n').bothE().as('r').otherV().as('m').has('prop', eq(42)).dedup('n', 'r', 'm'), __.constant('  cypher.null').as('r').as('m')).select('m').project('m').by(__.choose(neq('  cypher.null'), __.valueMap().with('~tinkerpop.valueMap.tokens')))
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Then</span>
  <span class="name">the result should be:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


                  <table class="step-arguments">
                          <tr>
                                  <td>m</td>
                              </tr>
                          <tr>
                                  <td>(:A {prop: 42})</td>
                              </tr>
                      </table>
        
        

        

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">no side effects</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-30">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-30" class="collapse collapsable-details " >
          
          <pre><p>13:16:55.163 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n) RETURN id(n)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:55.164 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) RETURN id(n)
13:16:55.174 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().project('id(n)').by(__.id())
13:16:55.178 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH ()-[r]-&gt;() RETURN id(r)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:55.179 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH ()-[r]-&gt;() RETURN id(r)
13:16:55.186 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.E().project('id(r)').by(__.id())
13:16:55.188 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n)
UNWIND labels(n) AS label
RETURN DISTINCT label}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:55.189 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) UNWIND labels(n) AS label RETURN DISTINCT label
13:16:55.200 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().map(__.label().is(neq('vertex')).fold()).unfold().project('label').by(__.identity()).dedup()
13:16:55.203 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().as('V').properties().project('nodeId', 'key', 'value').by(__.select('V').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:55.207 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().outE().as('E').properties().project('relId', 'key', 'value').by(__.select('E').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
-labels:        0
+labels:        0
+nodes:         0
-nodes:         0
-properties:    0
+properties:    0
-relationships: 0
+relationships: 0</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-31">
    
<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-31" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-32">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-32" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Given</span>
  <span class="name">an empty graph</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-33">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-33" class="collapse collapsable-details " >
          
          <pre><p>13:16:55.230 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().drop()}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-34">
          <a>Doc string</a>
      </div>
      <div id="msg-34" class="collapse collapsable-details">
        <pre>CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-35">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-35" class="collapse collapsable-details " >
          
          <pre><p>13:16:55.233 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:55.233 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (s:Single), (a:A {prop: 42}),        (b:B {prop: 46}), (c:C) CREATE (s)-[:REL]-&gt;(a),        (s)-[:REL]-&gt;(b),        (a)-[:REL]-&gt;(c),        (b)-[:LOOP]-&gt;(b)
13:16:55.247 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('Single').as('s').addV('A').as('a').property(single, 'prop', 42).addV('B').as('b').property(single, 'prop', 46).addV('C').as('c').addE('REL').from('s').to('a').addE('REL').from('s').to('b').addE('REL').from('a').to('c').addE('LOOP').from('b').to('b').barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-36">
    
<div class="brief passed">
  <span class="keyword indention">Scenario</span>
  <span class="name">Returning label predicate on null node</span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-36" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-37">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-37" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">When</span>
  <span class="name">executing query:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-38">
          <a>Doc string</a>
      </div>
      <div id="msg-38" class="collapse collapsable-details">
        <pre>MATCH (n:Single)
OPTIONAL MATCH (n)-[r:TYPE]-(m)
RETURN m:TYPE</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-39">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-39" class="collapse collapsable-details " >
          
          <pre><p>13:16:55.323 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n:Single)
OPTIONAL MATCH (n)-[r:TYPE]-(m)
RETURN m:TYPE}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:55.327 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n:Single) OPTIONAL MATCH (n)-[r:TYPE]-(m) RETURN m:TYPE
13:16:55.339 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().as('n').hasLabel('Single').choose(__.select('n').bothE('TYPE').as('r').otherV().as('m').dedup('n', 'r', 'm'), __.select('n').bothE('TYPE').as('r').otherV().as('m').dedup('n', 'r', 'm'), __.constant('  cypher.null').as('r').as('m')).select('m').project('m:TYPE').by(__.choose(neq('  cypher.null'), __.choose(__.hasLabel('TYPE'), __.constant(true), __.constant(false))))
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Then</span>
  <span class="name">the result should be:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


                  <table class="step-arguments">
                          <tr>
                                  <td>m:TYPE</td>
                              </tr>
                          <tr>
                                  <td>null</td>
                              </tr>
                      </table>
        
        

        

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">no side effects</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-40">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-40" class="collapse collapsable-details " >
          
          <pre><p>13:16:55.347 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n) RETURN id(n)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:55.349 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) RETURN id(n)
13:16:55.357 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().project('id(n)').by(__.id())
13:16:55.359 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH ()-[r]-&gt;() RETURN id(r)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:55.362 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH ()-[r]-&gt;() RETURN id(r)
13:16:55.371 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.E().project('id(r)').by(__.id())
13:16:55.373 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n)
UNWIND labels(n) AS label
RETURN DISTINCT label}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:55.373 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) UNWIND labels(n) AS label RETURN DISTINCT label
13:16:55.382 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().map(__.label().is(neq('vertex')).fold()).unfold().project('label').by(__.identity()).dedup()
13:16:55.384 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().as('V').properties().project('nodeId', 'key', 'value').by(__.select('V').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:55.386 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().outE().as('E').properties().project('relId', 'key', 'value').by(__.select('E').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
-labels:        0
+labels:        0
+nodes:         0
-nodes:         0
-properties:    0
+properties:    0
-relationships: 0
+relationships: 0</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-41">
    
<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-41" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-42">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-42" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Given</span>
  <span class="name">an empty graph</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-43">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-43" class="collapse collapsable-details " >
          
          <pre><p>13:16:55.404 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().drop()}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-44">
          <a>Doc string</a>
      </div>
      <div id="msg-44" class="collapse collapsable-details">
        <pre>CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-45">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-45" class="collapse collapsable-details " >
          
          <pre><p>13:16:55.406 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:55.406 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (s:Single), (a:A {prop: 42}),        (b:B {prop: 46}), (c:C) CREATE (s)-[:REL]-&gt;(a),        (s)-[:REL]-&gt;(b),        (a)-[:REL]-&gt;(c),        (b)-[:LOOP]-&gt;(b)
13:16:55.419 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('Single').as('s').addV('A').as('a').property(single, 'prop', 42).addV('B').as('b').property(single, 'prop', 46).addV('C').as('c').addE('REL').from('s').to('a').addE('REL').from('s').to('b').addE('REL').from('a').to('c').addE('LOOP').from('b').to('b').barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-46">
    
<div class="brief passed">
  <span class="keyword indention">Scenario</span>
  <span class="name">MATCH after OPTIONAL MATCH</span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-46" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-47">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-47" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">When</span>
  <span class="name">executing query:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-48">
          <a>Doc string</a>
      </div>
      <div id="msg-48" class="collapse collapsable-details">
        <pre>MATCH (a:Single)
OPTIONAL MATCH (a)--&gt;(b:NonExistent)
OPTIONAL MATCH (a)--&gt;(c:NonExistent)
WITH coalesce(b, c) AS x
MATCH (x)--&gt;(d)
RETURN d</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-49">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-49" class="collapse collapsable-details " >
          
          <pre><p>13:16:55.487 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (a:Single)
OPTIONAL MATCH (a)--&gt;(b:NonExistent)
OPTIONAL MATCH (a)--&gt;(c:NonExistent)
WITH coalesce(b, c) AS x
MATCH (x)--&gt;(d)
RETURN d}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:55.488 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (a:Single) OPTIONAL MATCH (a)--&gt;(b:NonExistent) OPTIONAL MATCH (a)--&gt;(c:NonExistent) WITH coalesce(b, c) AS x MATCH (x)--&gt;(d) RETURN d
13:16:55.519 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().as('a').hasLabel('Single').choose(__.select('a').outE().inV().as('b').hasLabel('NonExistent'), __.select('a').outE().inV().as('b').hasLabel('NonExistent'), __.constant('  cypher.null').as('b')).choose(__.select('a').outE().inV().as('c').hasLabel('NonExistent'), __.select('a').outE().inV().as('c').hasLabel('NonExistent'), __.constant('  cypher.null').as('c')).select('b', 'c').map(__.coalesce(__.select('b').is(neq('  cypher.null')), __.select('c'))).is(neq('  cypher.null')).outE().inV().project('d').by(__.choose(neq('  cypher.null'), __.valueMap().with('~tinkerpop.valueMap.tokens')))
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Then</span>
  <span class="name">the result should be:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


                  <table class="step-arguments">
                          <tr>
                                  <td>d</td>
                              </tr>
                      </table>
        
        

        

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">no side effects</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-50">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-50" class="collapse collapsable-details " >
          
          <pre><p>13:16:55.546 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) RETURN id(n)
13:16:55.551 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n) RETURN id(n)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:55.557 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().project('id(n)').by(__.id())
13:16:55.561 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH ()-[r]-&gt;() RETURN id(r)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:55.569 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH ()-[r]-&gt;() RETURN id(r)
13:16:55.587 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.E().project('id(r)').by(__.id())
13:16:55.593 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n)
UNWIND labels(n) AS label
RETURN DISTINCT label}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:55.594 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) UNWIND labels(n) AS label RETURN DISTINCT label
13:16:55.612 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().map(__.label().is(neq('vertex')).fold()).unfold().project('label').by(__.identity()).dedup()
13:16:55.617 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().as('V').properties().project('nodeId', 'key', 'value').by(__.select('V').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:55.621 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().outE().as('E').properties().project('relId', 'key', 'value').by(__.select('E').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
-labels:        0
+labels:        0
+nodes:         0
-nodes:         0
-properties:    0
+properties:    0
-relationships: 0
+relationships: 0</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-51">
    
<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-51" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-52">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-52" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Given</span>
  <span class="name">an empty graph</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-53">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-53" class="collapse collapsable-details " >
          
          <pre><p>13:16:55.639 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().drop()}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-54">
          <a>Doc string</a>
      </div>
      <div id="msg-54" class="collapse collapsable-details">
        <pre>CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-55">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-55" class="collapse collapsable-details " >
          
          <pre><p>13:16:55.647 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:55.648 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (s:Single), (a:A {prop: 42}),        (b:B {prop: 46}), (c:C) CREATE (s)-[:REL]-&gt;(a),        (s)-[:REL]-&gt;(b),        (a)-[:REL]-&gt;(c),        (b)-[:LOOP]-&gt;(b)
13:16:55.658 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('Single').as('s').addV('A').as('a').property(single, 'prop', 42).addV('B').as('b').property(single, 'prop', 46).addV('C').as('c').addE('REL').from('s').to('a').addE('REL').from('s').to('b').addE('REL').from('a').to('c').addE('LOOP').from('b').to('b').barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-56">
    
<div class="brief passed">
  <span class="keyword indention">Scenario</span>
  <span class="name">WITH after OPTIONAL MATCH</span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-56" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-57">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-57" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">When</span>
  <span class="name">executing query:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-58">
          <a>Doc string</a>
      </div>
      <div id="msg-58" class="collapse collapsable-details">
        <pre>OPTIONAL MATCH (a:A)
WITH a AS a
MATCH (b:B)
RETURN a, b</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-59">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-59" class="collapse collapsable-details " >
          
          <pre><p>13:16:55.721 [Test worker] DEBUG o.a.t.g.driver.Client - OPTIONAL MATCH (a:A)
WITH a AS a
MATCH (b:B)
RETURN a, b}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:55.722 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: OPTIONAL MATCH (a:A) WITH a AS a MATCH (b:B) RETURN a, b
13:16:55.736 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.inject('  cypher.start').choose(__.V().as('a').hasLabel('A'), __.V().as('a').hasLabel('A'), __.constant('  cypher.null').as('a')).select('a').as('a').V().as('b').hasLabel('B').select('a', 'b').project('a', 'b').by(__.select('a').choose(neq('  cypher.null'), __.valueMap().with('~tinkerpop.valueMap.tokens'))).by(__.select('b').choose(neq('  cypher.null'), __.valueMap().with('~tinkerpop.valueMap.tokens')))
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Then</span>
  <span class="name">the result should be:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


                  <table class="step-arguments">
                          <tr>
                                  <td>a</td>
                                  <td>b</td>
                              </tr>
                          <tr>
                                  <td>(:A {prop: 42})</td>
                                  <td>(:B {prop: 46})</td>
                              </tr>
                      </table>
        
        

        

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">no side effects</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-60">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-60" class="collapse collapsable-details " >
          
          <pre><p>13:16:55.747 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n) RETURN id(n)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:55.752 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) RETURN id(n)
13:16:55.758 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().project('id(n)').by(__.id())
13:16:55.765 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH ()-[r]-&gt;() RETURN id(r)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:55.766 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH ()-[r]-&gt;() RETURN id(r)
13:16:55.779 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.E().project('id(r)').by(__.id())
13:16:55.784 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n)
UNWIND labels(n) AS label
RETURN DISTINCT label}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:55.785 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) UNWIND labels(n) AS label RETURN DISTINCT label
13:16:55.796 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().map(__.label().is(neq('vertex')).fold()).unfold().project('label').by(__.identity()).dedup()
13:16:55.801 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().as('V').properties().project('nodeId', 'key', 'value').by(__.select('V').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:55.807 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().outE().as('E').properties().project('relId', 'key', 'value').by(__.select('E').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
-labels:        0
+labels:        0
+nodes:         0
-nodes:         0
-properties:    0
+properties:    0
-relationships: 0
+relationships: 0</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-61">
    
<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-61" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-62">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-62" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Given</span>
  <span class="name">an empty graph</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-63">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-63" class="collapse collapsable-details " >
          
          <pre><p>13:16:55.823 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().drop()}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-64">
          <a>Doc string</a>
      </div>
      <div id="msg-64" class="collapse collapsable-details">
        <pre>CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-65">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-65" class="collapse collapsable-details " >
          
          <pre><p>13:16:55.828 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:55.830 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (s:Single), (a:A {prop: 42}),        (b:B {prop: 46}), (c:C) CREATE (s)-[:REL]-&gt;(a),        (s)-[:REL]-&gt;(b),        (a)-[:REL]-&gt;(c),        (b)-[:LOOP]-&gt;(b)
13:16:55.840 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('Single').as('s').addV('A').as('a').property(single, 'prop', 42).addV('B').as('b').property(single, 'prop', 46).addV('C').as('c').addE('REL').from('s').to('a').addE('REL').from('s').to('b').addE('REL').from('a').to('c').addE('LOOP').from('b').to('b').barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-66">
    
<div class="brief passed">
  <span class="keyword indention">Scenario</span>
  <span class="name">Named paths in optional matches</span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-66" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-67">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-67" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">When</span>
  <span class="name">executing query:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-68">
          <a>Doc string</a>
      </div>
      <div id="msg-68" class="collapse collapsable-details">
        <pre>MATCH (a:A)
OPTIONAL MATCH p = (a)-[:X]-&gt;(b)
RETURN p</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-69">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-69" class="collapse collapsable-details " >
          
          <pre><p>13:16:55.901 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (a:A)
OPTIONAL MATCH p = (a)-[:X]-&gt;(b)
RETURN p}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:55.906 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (a:A) OPTIONAL MATCH p = (a)-[:X]-&gt;(b) RETURN p
13:16:55.922 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().as('a').hasLabel('A').choose(__.V().as('  cypher.match.start.p').as('  GENERATED2').where(__.select('  GENERATED2').where(eq('a'))).outE('X').aggregate('  cypher.path.edge.p').inV().path().from('  cypher.match.start.p').as('p'), __.V().as('  cypher.match.start.p').as('  GENERATED2').where(__.select('  GENERATED2').where(eq('a'))).outE('X').aggregate('  cypher.path.edge.p').inV().path().from('  cypher.match.start.p').as('p'), __.constant('  cypher.null').as('p')).select('p').project('p').by(__.choose(neq('  cypher.null'), __.is(neq('  cypher.unused')).project('  cypher.relationship', '  cypher.element').by(__.select('  cypher.path.edge.p').unfold().project('  cypher.id', '  cypher.inv', '  cypher.outv').by(__.id()).by(__.inV().id()).by(__.outV().id()).fold()).by(__.unfold().is(neq('  cypher.start')).valueMap().with('~tinkerpop.valueMap.tokens').fold())))
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Then</span>
  <span class="name">the result should be:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


                  <table class="step-arguments">
                          <tr>
                                  <td>p</td>
                              </tr>
                          <tr>
                                  <td>null</td>
                              </tr>
                      </table>
        
        

        

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">no side effects</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-70">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-70" class="collapse collapsable-details " >
          
          <pre><p>13:16:55.933 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n) RETURN id(n)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:55.933 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) RETURN id(n)
13:16:55.939 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().project('id(n)').by(__.id())
13:16:55.941 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH ()-[r]-&gt;() RETURN id(r)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:55.942 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH ()-[r]-&gt;() RETURN id(r)
13:16:55.950 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.E().project('id(r)').by(__.id())
13:16:55.952 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n)
UNWIND labels(n) AS label
RETURN DISTINCT label}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:55.952 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) UNWIND labels(n) AS label RETURN DISTINCT label
13:16:55.968 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().map(__.label().is(neq('vertex')).fold()).unfold().project('label').by(__.identity()).dedup()
13:16:55.970 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().as('V').properties().project('nodeId', 'key', 'value').by(__.select('V').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:55.973 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().outE().as('E').properties().project('relId', 'key', 'value').by(__.select('E').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
-labels:        0
+labels:        0
+nodes:         0
-nodes:         0
-properties:    0
+properties:    0
-relationships: 0
+relationships: 0</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-71">
    
<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-71" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-72">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-72" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Given</span>
  <span class="name">an empty graph</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-73">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-73" class="collapse collapsable-details " >
          
          <pre><p>13:16:55.989 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().drop()}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-74">
          <a>Doc string</a>
      </div>
      <div id="msg-74" class="collapse collapsable-details">
        <pre>CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-75">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-75" class="collapse collapsable-details " >
          
          <pre><p>13:16:55.997 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:55.998 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (s:Single), (a:A {prop: 42}),        (b:B {prop: 46}), (c:C) CREATE (s)-[:REL]-&gt;(a),        (s)-[:REL]-&gt;(b),        (a)-[:REL]-&gt;(c),        (b)-[:LOOP]-&gt;(b)
13:16:56.007 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('Single').as('s').addV('A').as('a').property(single, 'prop', 42).addV('B').as('b').property(single, 'prop', 46).addV('C').as('c').addE('REL').from('s').to('a').addE('REL').from('s').to('b').addE('REL').from('a').to('c').addE('LOOP').from('b').to('b').barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-76">
    
<div class="brief passed">
  <span class="keyword indention">Scenario</span>
  <span class="name">OPTIONAL MATCH and bound nodes</span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-76" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-77">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-77" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">When</span>
  <span class="name">executing query:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-78">
          <a>Doc string</a>
      </div>
      <div id="msg-78" class="collapse collapsable-details">
        <pre>MATCH (a:A), (b:C)
OPTIONAL MATCH (x)--&gt;(b)
RETURN x</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-79">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-79" class="collapse collapsable-details " >
          
          <pre><p>13:16:56.065 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (a:A), (b:C)
OPTIONAL MATCH (x)--&gt;(b)
RETURN x}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:56.066 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (a:A), (b:C) OPTIONAL MATCH (x)--&gt;(b) RETURN x
13:16:56.081 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().hasLabel('A').V().as('b').hasLabel('C').choose(__.V().as('x').outE().inV().as('  GENERATED3').where(__.select('  GENERATED3').where(eq('b'))), __.V().as('x').outE().inV().as('  GENERATED3').where(__.select('  GENERATED3').where(eq('b'))), __.constant('  cypher.null').as('x')).select('x').project('x').by(__.choose(neq('  cypher.null'), __.valueMap().with('~tinkerpop.valueMap.tokens')))
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Then</span>
  <span class="name">the result should be:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


                  <table class="step-arguments">
                          <tr>
                                  <td>x</td>
                              </tr>
                          <tr>
                                  <td>(:A {prop: 42})</td>
                              </tr>
                      </table>
        
        

        

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">no side effects</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-80">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-80" class="collapse collapsable-details " >
          
          <pre><p>13:16:56.085 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n) RETURN id(n)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:56.085 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) RETURN id(n)
13:16:56.091 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().project('id(n)').by(__.id())
13:16:56.094 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH ()-[r]-&gt;() RETURN id(r)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:56.094 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH ()-[r]-&gt;() RETURN id(r)
13:16:56.101 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.E().project('id(r)').by(__.id())
13:16:56.103 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n)
UNWIND labels(n) AS label
RETURN DISTINCT label}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:56.103 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) UNWIND labels(n) AS label RETURN DISTINCT label
13:16:56.115 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().map(__.label().is(neq('vertex')).fold()).unfold().project('label').by(__.identity()).dedup()
13:16:56.117 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().as('V').properties().project('nodeId', 'key', 'value').by(__.select('V').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:56.121 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().outE().as('E').properties().project('relId', 'key', 'value').by(__.select('E').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
-labels:        0
+labels:        0
+nodes:         0
-nodes:         0
-properties:    0
+properties:    0
-relationships: 0
+relationships: 0</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-81">
    
<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-81" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-82">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-82" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Given</span>
  <span class="name">an empty graph</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-83">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-83" class="collapse collapsable-details " >
          
          <pre><p>13:16:56.134 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().drop()}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-84">
          <a>Doc string</a>
      </div>
      <div id="msg-84" class="collapse collapsable-details">
        <pre>CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-85">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-85" class="collapse collapsable-details " >
          
          <pre><p>13:16:56.136 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:56.137 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (s:Single), (a:A {prop: 42}),        (b:B {prop: 46}), (c:C) CREATE (s)-[:REL]-&gt;(a),        (s)-[:REL]-&gt;(b),        (a)-[:REL]-&gt;(c),        (b)-[:LOOP]-&gt;(b)
13:16:56.148 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('Single').as('s').addV('A').as('a').property(single, 'prop', 42).addV('B').as('b').property(single, 'prop', 46).addV('C').as('c').addE('REL').from('s').to('a').addE('REL').from('s').to('b').addE('REL').from('a').to('c').addE('LOOP').from('b').to('b').barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsable-control" data-target="#element-86">
    
<div class="brief failed">
  <span class="keyword indention">Scenario</span>
  <span class="name">OPTIONAL MATCH with labels on the optional end node</span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-86" class="collapse collapsable-details  in ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsable-control" data-target="#steps-87">
    
<div class="brief failed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-87" class="inner-level collapse collapsable-details  in ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-88">
          <a>Doc string</a>
      </div>
      <div id="msg-88" class="collapse collapsable-details">
        <pre>CREATE (:X), (x:X), (y1:Y), (y2:Y:Z)
CREATE (x)-[:REL]-&gt;(y1),
       (x)-[:REL]-&gt;(y2)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-89">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-89" class="collapse collapsable-details " >
          
          <pre><p>13:16:56.157 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (:X), (x:X), (y1:Y), (y2:Y:Z)
CREATE (x)-[:REL]-&gt;(y1),
       (x)-[:REL]-&gt;(y2)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:56.157 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (:X), (x:X), (y1:Y), (y2:Y:Z) CREATE (x)-[:REL]-&gt;(y1),        (x)-[:REL]-&gt;(y2)
13:16:56.167 [gremlin-server-worker-1] WARN  o.a.t.g.s.h.OpExecutorHandler - Multiple labels are not supported: Y::Z
org.opencypher.gremlin.translation.exception.SyntaxException: Multiple labels are not supported: Y::Z
	at org.opencypher.gremlin.translation.ir.TranslationWriter$.$anonfun$write$4(TranslationWriter.scala:57)
	at scala.Option.foreach(Option.scala:257)
	at org.opencypher.gremlin.translation.ir.TranslationWriter$.$anonfun$write$3(TranslationWriter.scala:57)
	at org.opencypher.gremlin.translation.ir.TranslationWriter$.$anonfun$write$3$adapted(TranslationWriter.scala:56)
	at scala.collection.TraversableLike$WithFilter.$anonfun$foreach$1(TraversableLike.scala:788)
	at scala.collection.immutable.Map$Map2.foreach(Map.scala:156)
	at scala.collection.TraversableLike$WithFilter.foreach(TraversableLike.scala:787)
	at org.opencypher.gremlin.translation.ir.TranslationWriter$.write(TranslationWriter.scala:56)
	at org.opencypher.gremlin.translation.ir.TranslationWriter$.write(TranslationWriter.scala:47)
	at org.opencypher.gremlin.translation.ir.TranslationWriter.write(TranslationWriter.scala)
	at org.opencypher.gremlin.server.op.cypher.CypherOpProcessor.evalCypher(CypherOpProcessor.java:112)
	at org.apache.tinkerpop.gremlin.server.handler.OpExecutorHandler.channelRead0(OpExecutorHandler.java:68)
	at org.apache.tinkerpop.gremlin.server.handler.OpExecutorHandler.channelRead0(OpExecutorHandler.java:43)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:105)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
	at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:86)
	at io.netty.handler.codec.http.websocketx.Utf8FrameValidator.channelRead(Utf8FrameValidator.java:77)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
	at io.netty.handler.codec.http.websocketx.WebSocketServerProtocolHandler$1.channelRead(WebSocketServerProtocolHandler.java:204)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:310)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:284)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1434)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:965)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:647)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:582)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:499)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:461)
	at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:884)
	at java.lang.Thread.run(Thread.java:748)
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">When</span>
  <span class="name">executing query:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-90">
          <a>Doc string</a>
      </div>
      <div id="msg-90" class="collapse collapsable-details">
        <pre>MATCH (a:X)
OPTIONAL MATCH (a)--&gt;(b:Y)
RETURN b</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-91">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-91" class="collapse collapsable-details " >
          
          <pre><p>13:16:56.240 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (a:X)
OPTIONAL MATCH (a)--&gt;(b:Y)
RETURN b}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:56.240 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (a:X) OPTIONAL MATCH (a)--&gt;(b:Y) RETURN b
13:16:56.254 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().as('a').hasLabel('X').choose(__.select('a').outE().inV().as('b').hasLabel('Y'), __.select('a').outE().inV().as('b').hasLabel('Y'), __.constant('  cypher.null').as('b')).select('b').project('b').by(__.choose(neq('  cypher.null'), __.valueMap().with('~tinkerpop.valueMap.tokens')))
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief failed">
  <span class="keyword indention">Then</span>
  <span class="name">the result should be:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        

  <div class="inner-level">
    <div class="message indention">
      <div data-toggle="collapse" class=" collapsable-control" data-target="#msg-92">
          <a>org.opencypher.tools.tck.api.Scenario$ScenarioFailedException:</a>
      </div>
      <div id="msg-92" class="collapse collapsable-details  in ">
        <pre>org.opencypher.tools.tck.api.Scenario$ScenarioFailedException: Feature &quot;OptionalMatchAcceptance&quot;: Scenario &quot;OPTIONAL MATCH with labels on the optional end node&quot; failed with message: 
Expected (in any order of rows):
| b |
| null |
| (:Y) |
| (:Y:Z) |
Actual:
| b |

	at org.opencypher.tools.tck.api.Scenario.$anonfun$executeOnGraph$1(Scenario.scala:90)
	at scala.collection.LinearSeqOptimized.foldLeft(LinearSeqOptimized.scala:122)
	at scala.collection.LinearSeqOptimized.foldLeft$(LinearSeqOptimized.scala:118)
	at scala.collection.immutable.List.foldLeft(List.scala:85)
	at org.opencypher.tools.tck.api.Scenario.executeOnGraph(Scenario.scala:60)
	at org.opencypher.tools.tck.api.Scenario$$anon$1.execute(Scenario.scala:54)
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:145)
	at org.junit.jupiter.engine.descriptor.DynamicTestTestDescriptor.execute(DynamicTestTestDescriptor.java:46)
	at org.junit.jupiter.engine.descriptor.DynamicTestTestDescriptor.execute(DynamicTestTestDescriptor.java:24)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$execute$3(HierarchicalTestExecutor.java:83)
	at org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:77)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$null$0(HierarchicalTestExecutor.java:85)
	at org.junit.jupiter.engine.descriptor.TestFactoryTestDescriptor.lambda$invokeTestMethod$1(TestFactoryTestDescriptor.java:80)
	at org.junit.jupiter.engine.execution.ThrowableCollector.execute(ThrowableCollector.java:40)
	at org.junit.jupiter.engine.descriptor.TestFactoryTestDescriptor.invokeTestMethod(TestFactoryTestDescriptor.java:68)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:110)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$execute$3(HierarchicalTestExecutor.java:83)
	at org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:77)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$null$2(HierarchicalTestExecutor.java:92)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.Iterator.forEachRemaining(Iterator.java:116)
	at java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$execute$3(HierarchicalTestExecutor.java:92)
	at org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:77)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$null$2(HierarchicalTestExecutor.java:92)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.Iterator.forEachRemaining(Iterator.java:116)
	at java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$execute$3(HierarchicalTestExecutor.java:92)
	at org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:77)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:51)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:43)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:170)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:154)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:92)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$100(JUnitPlatformTestClassProcessor.java:77)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:73)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:32)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)
	at com.sun.proxy.$Proxy1.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.stop(TestWorker.java:123)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:155)
	at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:137)
	at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:404)
	at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)
	at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)
	at java.lang.Thread.run(Thread.java:748)
</pre>
      </div>
    </div>
  </div>


                  <table class="step-arguments">
                          <tr>
                                  <td>b</td>
                              </tr>
                          <tr>
                                  <td>null</td>
                              </tr>
                          <tr>
                                  <td>(:Y)</td>
                              </tr>
                          <tr>
                                  <td>(:Y:Z)</td>
                              </tr>
                      </table>
        
        

        

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-93">
    
<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-93" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-94">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-94" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Given</span>
  <span class="name">an empty graph</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-95">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-95" class="collapse collapsable-details " >
          
          <pre><p>13:16:56.272 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().drop()}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-96">
          <a>Doc string</a>
      </div>
      <div id="msg-96" class="collapse collapsable-details">
        <pre>CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-97">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-97" class="collapse collapsable-details " >
          
          <pre><p>13:16:56.275 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (s:Single), (a:A {prop: 42}),        (b:B {prop: 46}), (c:C) CREATE (s)-[:REL]-&gt;(a),        (s)-[:REL]-&gt;(b),        (a)-[:REL]-&gt;(c),        (b)-[:LOOP]-&gt;(b)
13:16:56.278 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:56.292 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('Single').as('s').addV('A').as('a').property(single, 'prop', 42).addV('B').as('b').property(single, 'prop', 46).addV('C').as('c').addE('REL').from('s').to('a').addE('REL').from('s').to('b').addE('REL').from('a').to('c').addE('LOOP').from('b').to('b').barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-98">
    
<div class="brief passed">
  <span class="keyword indention">Scenario</span>
  <span class="name">Named paths inside optional matches with node predicates</span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-98" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-99">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-99" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">When</span>
  <span class="name">executing query:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-100">
          <a>Doc string</a>
      </div>
      <div id="msg-100" class="collapse collapsable-details">
        <pre>MATCH (a:A), (b:B)
OPTIONAL MATCH p = (a)-[:X]-&gt;(b)
RETURN p</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-101">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-101" class="collapse collapsable-details " >
          
          <pre><p>13:16:56.365 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (a:A), (b:B)
OPTIONAL MATCH p = (a)-[:X]-&gt;(b)
RETURN p}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:56.365 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (a:A), (b:B) OPTIONAL MATCH p = (a)-[:X]-&gt;(b) RETURN p
13:16:56.374 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().as('a').hasLabel('A').V().as('b').hasLabel('B').choose(__.V().as('  cypher.match.start.p').as('  GENERATED3').where(__.select('  GENERATED3').where(eq('a'))).outE('X').aggregate('  cypher.path.edge.p').inV().as('  GENERATED4').where(__.select('  GENERATED4').where(eq('b'))).path().from('  cypher.match.start.p').as('p'), __.V().as('  cypher.match.start.p').as('  GENERATED3').where(__.select('  GENERATED3').where(eq('a'))).outE('X').aggregate('  cypher.path.edge.p').inV().as('  GENERATED4').where(__.select('  GENERATED4').where(eq('b'))).path().from('  cypher.match.start.p').as('p'), __.constant('  cypher.null').as('p')).select('p').project('p').by(__.choose(neq('  cypher.null'), __.is(neq('  cypher.unused')).project('  cypher.relationship', '  cypher.element').by(__.select('  cypher.path.edge.p').unfold().project('  cypher.id', '  cypher.inv', '  cypher.outv').by(__.id()).by(__.inV().id()).by(__.outV().id()).fold()).by(__.unfold().is(neq('  cypher.start')).valueMap().with('~tinkerpop.valueMap.tokens').fold())))
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Then</span>
  <span class="name">the result should be:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


                  <table class="step-arguments">
                          <tr>
                                  <td>p</td>
                              </tr>
                          <tr>
                                  <td>null</td>
                              </tr>
                      </table>
        
        

        

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">no side effects</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-102">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-102" class="collapse collapsable-details " >
          
          <pre><p>13:16:56.382 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n) RETURN id(n)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:56.383 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) RETURN id(n)
13:16:56.402 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().project('id(n)').by(__.id())
13:16:56.404 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH ()-[r]-&gt;() RETURN id(r)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:56.405 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH ()-[r]-&gt;() RETURN id(r)
13:16:56.416 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.E().project('id(r)').by(__.id())
13:16:56.418 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n)
UNWIND labels(n) AS label
RETURN DISTINCT label}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:56.421 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) UNWIND labels(n) AS label RETURN DISTINCT label
13:16:56.428 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().map(__.label().is(neq('vertex')).fold()).unfold().project('label').by(__.identity()).dedup()
13:16:56.431 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().as('V').properties().project('nodeId', 'key', 'value').by(__.select('V').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:56.433 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().outE().as('E').properties().project('relId', 'key', 'value').by(__.select('E').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
-labels:        0
+labels:        0
+nodes:         0
-nodes:         0
-properties:    0
+properties:    0
-relationships: 0
+relationships: 0</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-103">
    
<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-103" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-104">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-104" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Given</span>
  <span class="name">an empty graph</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-105">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-105" class="collapse collapsable-details " >
          
          <pre><p>13:16:56.448 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().drop()}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-106">
          <a>Doc string</a>
      </div>
      <div id="msg-106" class="collapse collapsable-details">
        <pre>CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-107">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-107" class="collapse collapsable-details " >
          
          <pre><p>13:16:56.451 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:56.451 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (s:Single), (a:A {prop: 42}),        (b:B {prop: 46}), (c:C) CREATE (s)-[:REL]-&gt;(a),        (s)-[:REL]-&gt;(b),        (a)-[:REL]-&gt;(c),        (b)-[:LOOP]-&gt;(b)
13:16:56.459 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('Single').as('s').addV('A').as('a').property(single, 'prop', 42).addV('B').as('b').property(single, 'prop', 46).addV('C').as('c').addE('REL').from('s').to('a').addE('REL').from('s').to('b').addE('REL').from('a').to('c').addE('LOOP').from('b').to('b').barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsable-control" data-target="#element-108">
    
<div class="brief failed">
  <span class="keyword indention">Scenario</span>
  <span class="name">Variable length optional relationships</span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-108" class="collapse collapsable-details  in ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsable-control" data-target="#steps-109">
    
<div class="brief failed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-109" class="inner-level collapse collapsable-details  in ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">When</span>
  <span class="name">executing query:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-110">
          <a>Doc string</a>
      </div>
      <div id="msg-110" class="collapse collapsable-details">
        <pre>MATCH (a:Single)
OPTIONAL MATCH (a)-[*]-&gt;(b)
RETURN b</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-111">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-111" class="collapse collapsable-details " >
          
          <pre><p>13:16:56.521 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (a:Single)
OPTIONAL MATCH (a)-[*]-&gt;(b)
RETURN b}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:56.521 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (a:Single) OPTIONAL MATCH (a)-[*]-&gt;(b) RETURN b
13:16:56.532 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().as('a').hasLabel('Single').choose(__.select('a').repeat(__.outE().as('  UNNAMED36').inV()).emit().times(10).as('b').optional(__.select(all, '  UNNAMED36').as('  UNNAMED36')), __.select('a').repeat(__.outE().as('  UNNAMED36').inV()).emit().times(10).as('b').optional(__.select(all, '  UNNAMED36').as('  UNNAMED36')), __.constant('  cypher.null').as('  UNNAMED36').as('b')).select('b').project('b').by(__.choose(neq('  cypher.null'), __.valueMap().with('~tinkerpop.valueMap.tokens')))
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief failed">
  <span class="keyword indention">Then</span>
  <span class="name">the result should be:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        

  <div class="inner-level">
    <div class="message indention">
      <div data-toggle="collapse" class=" collapsable-control" data-target="#msg-112">
          <a>org.opencypher.tools.tck.api.Scenario$ScenarioFailedException:</a>
      </div>
      <div id="msg-112" class="collapse collapsable-details  in ">
        <pre>org.opencypher.tools.tck.api.Scenario$ScenarioFailedException: Feature &quot;OptionalMatchAcceptance&quot;: Scenario &quot;Variable length optional relationships&quot; failed with message: 
Expected (in any order of rows):
| b |
| (:A {prop: 42}) |
| (:B {prop: 46}) |
| (:B {prop: 46}) |
| (:C) |
Actual:
| b |
| (:A {prop: 42}) |
| (:B {prop: 46}) |
| (:C) |
| (:B {prop: 46}) |
| (:B {prop: 46}) |
| (:B {prop: 46}) |
| (:B {prop: 46}) |
| (:B {prop: 46}) |
| (:B {prop: 46}) |
| (:B {prop: 46}) |
| (:B {prop: 46}) |
| (:B {prop: 46}) |
	at org.opencypher.tools.tck.api.Scenario.$anonfun$executeOnGraph$1(Scenario.scala:90)
	at scala.collection.LinearSeqOptimized.foldLeft(LinearSeqOptimized.scala:122)
	at scala.collection.LinearSeqOptimized.foldLeft$(LinearSeqOptimized.scala:118)
	at scala.collection.immutable.List.foldLeft(List.scala:85)
	at org.opencypher.tools.tck.api.Scenario.executeOnGraph(Scenario.scala:60)
	at org.opencypher.tools.tck.api.Scenario$$anon$1.execute(Scenario.scala:54)
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:145)
	at org.junit.jupiter.engine.descriptor.DynamicTestTestDescriptor.execute(DynamicTestTestDescriptor.java:46)
	at org.junit.jupiter.engine.descriptor.DynamicTestTestDescriptor.execute(DynamicTestTestDescriptor.java:24)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$execute$3(HierarchicalTestExecutor.java:83)
	at org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:77)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$null$0(HierarchicalTestExecutor.java:85)
	at org.junit.jupiter.engine.descriptor.TestFactoryTestDescriptor.lambda$invokeTestMethod$1(TestFactoryTestDescriptor.java:80)
	at org.junit.jupiter.engine.execution.ThrowableCollector.execute(ThrowableCollector.java:40)
	at org.junit.jupiter.engine.descriptor.TestFactoryTestDescriptor.invokeTestMethod(TestFactoryTestDescriptor.java:68)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:110)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$execute$3(HierarchicalTestExecutor.java:83)
	at org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:77)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$null$2(HierarchicalTestExecutor.java:92)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.Iterator.forEachRemaining(Iterator.java:116)
	at java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$execute$3(HierarchicalTestExecutor.java:92)
	at org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:77)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$null$2(HierarchicalTestExecutor.java:92)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.Iterator.forEachRemaining(Iterator.java:116)
	at java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$execute$3(HierarchicalTestExecutor.java:92)
	at org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:77)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:51)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:43)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:170)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:154)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:92)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$100(JUnitPlatformTestClassProcessor.java:77)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:73)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:32)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)
	at com.sun.proxy.$Proxy1.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.stop(TestWorker.java:123)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:155)
	at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:137)
	at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:404)
	at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)
	at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)
	at java.lang.Thread.run(Thread.java:748)
</pre>
      </div>
    </div>
  </div>


                  <table class="step-arguments">
                          <tr>
                                  <td>b</td>
                              </tr>
                          <tr>
                                  <td>(:A {prop: 42})</td>
                              </tr>
                          <tr>
                                  <td>(:B {prop: 46})</td>
                              </tr>
                          <tr>
                                  <td>(:B {prop: 46})</td>
                              </tr>
                          <tr>
                                  <td>(:C)</td>
                              </tr>
                      </table>
        
        

        

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-113">
    
<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-113" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-114">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-114" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Given</span>
  <span class="name">an empty graph</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-115">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-115" class="collapse collapsable-details " >
          
          <pre><p>13:16:56.545 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().drop()}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-116">
          <a>Doc string</a>
      </div>
      <div id="msg-116" class="collapse collapsable-details">
        <pre>CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-117">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-117" class="collapse collapsable-details " >
          
          <pre><p>13:16:56.552 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:56.552 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (s:Single), (a:A {prop: 42}),        (b:B {prop: 46}), (c:C) CREATE (s)-[:REL]-&gt;(a),        (s)-[:REL]-&gt;(b),        (a)-[:REL]-&gt;(c),        (b)-[:LOOP]-&gt;(b)
13:16:56.564 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('Single').as('s').addV('A').as('a').property(single, 'prop', 42).addV('B').as('b').property(single, 'prop', 46).addV('C').as('c').addE('REL').from('s').to('a').addE('REL').from('s').to('b').addE('REL').from('a').to('c').addE('LOOP').from('b').to('b').barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-118">
    
<div class="brief passed">
  <span class="keyword indention">Scenario</span>
  <span class="name">Variable length optional relationships with length predicates</span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-118" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-119">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-119" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">When</span>
  <span class="name">executing query:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-120">
          <a>Doc string</a>
      </div>
      <div id="msg-120" class="collapse collapsable-details">
        <pre>MATCH (a:Single)
OPTIONAL MATCH (a)-[*3..]-(b)
RETURN b</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-121">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-121" class="collapse collapsable-details " >
          
          <pre><p>13:16:56.624 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (a:Single)
OPTIONAL MATCH (a)-[*3..]-(b)
RETURN b}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:56.625 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (a:Single) OPTIONAL MATCH (a)-[*3..]-(b) RETURN b
13:16:56.643 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().as('a').hasLabel('Single').choose(__.select('a').as('  cypher.path.start.GENERATED3').emit(__.loops().is(gte(3))).repeat(__.bothE().as('  UNNAMED36').otherV()).times(10).simplePath().from('  cypher.path.start.GENERATED3').as('b').dedup('a', '  UNNAMED36', 'b').optional(__.select(all, '  UNNAMED36').as('  UNNAMED36')), __.select('a').as('  cypher.path.start.GENERATED3').emit(__.loops().is(gte(3))).repeat(__.bothE().as('  UNNAMED36').otherV()).times(10).simplePath().from('  cypher.path.start.GENERATED3').as('b').dedup('a', '  UNNAMED36', 'b').optional(__.select(all, '  UNNAMED36').as('  UNNAMED36')), __.constant('  cypher.null').as('  UNNAMED36').as('b')).select('b').project('b').by(__.choose(neq('  cypher.null'), __.valueMap().with('~tinkerpop.valueMap.tokens')))
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Then</span>
  <span class="name">the result should be:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


                  <table class="step-arguments">
                          <tr>
                                  <td>b</td>
                              </tr>
                          <tr>
                                  <td>null</td>
                              </tr>
                      </table>
        
        

        

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">no side effects</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-122">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-122" class="collapse collapsable-details " >
          
          <pre><p>13:16:56.736 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n) RETURN id(n)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:56.737 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) RETURN id(n)
13:16:56.743 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().project('id(n)').by(__.id())
13:16:56.748 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH ()-[r]-&gt;() RETURN id(r)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:56.748 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH ()-[r]-&gt;() RETURN id(r)
13:16:56.757 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.E().project('id(r)').by(__.id())
13:16:56.758 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n)
UNWIND labels(n) AS label
RETURN DISTINCT label}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:56.761 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) UNWIND labels(n) AS label RETURN DISTINCT label
13:16:56.772 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().map(__.label().is(neq('vertex')).fold()).unfold().project('label').by(__.identity()).dedup()
13:16:56.773 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().as('V').properties().project('nodeId', 'key', 'value').by(__.select('V').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:56.778 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().outE().as('E').properties().project('relId', 'key', 'value').by(__.select('E').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
-labels:        0
+labels:        0
+nodes:         0
-nodes:         0
-properties:    0
+properties:    0
-relationships: 0
+relationships: 0</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-123">
    
<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-123" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-124">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-124" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Given</span>
  <span class="name">an empty graph</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-125">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-125" class="collapse collapsable-details " >
          
          <pre><p>13:16:56.792 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().drop()}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-126">
          <a>Doc string</a>
      </div>
      <div id="msg-126" class="collapse collapsable-details">
        <pre>CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-127">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-127" class="collapse collapsable-details " >
          
          <pre><p>13:16:56.800 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:56.801 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (s:Single), (a:A {prop: 42}),        (b:B {prop: 46}), (c:C) CREATE (s)-[:REL]-&gt;(a),        (s)-[:REL]-&gt;(b),        (a)-[:REL]-&gt;(c),        (b)-[:LOOP]-&gt;(b)
13:16:56.813 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('Single').as('s').addV('A').as('a').property(single, 'prop', 42).addV('B').as('b').property(single, 'prop', 46).addV('C').as('c').addE('REL').from('s').to('a').addE('REL').from('s').to('b').addE('REL').from('a').to('c').addE('LOOP').from('b').to('b').barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-128">
    
<div class="brief passed">
  <span class="keyword indention">Scenario</span>
  <span class="name">Optionally matching self-loops</span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-128" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-129">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-129" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">When</span>
  <span class="name">executing query:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-130">
          <a>Doc string</a>
      </div>
      <div id="msg-130" class="collapse collapsable-details">
        <pre>MATCH (a:B)
OPTIONAL MATCH (a)-[r]-(a)
RETURN r</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-131">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-131" class="collapse collapsable-details " >
          
          <pre><p>13:16:56.901 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (a:B)
OPTIONAL MATCH (a)-[r]-(a)
RETURN r}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:56.901 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (a:B) OPTIONAL MATCH (a)-[r]-(a) RETURN r
13:16:56.909 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().as('a').hasLabel('B').choose(__.select('a').bothE().as('r').otherV().as('  GENERATED5').where(__.select('  GENERATED5').where(eq('a'))).dedup('a', 'r', 'a'), __.select('a').bothE().as('r').otherV().as('  GENERATED5').where(__.select('  GENERATED5').where(eq('a'))).dedup('a', 'r', 'a'), __.constant('  cypher.null').as('r')).select('r').project('r').by(__.choose(neq('  cypher.null'), __.project('  cypher.element', '  cypher.inv', '  cypher.outv').by(__.valueMap().with('~tinkerpop.valueMap.tokens')).by(__.inV().id()).by(__.outV().id())))
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Then</span>
  <span class="name">the result should be:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


                  <table class="step-arguments">
                          <tr>
                                  <td>r</td>
                              </tr>
                          <tr>
                                  <td>[:LOOP]</td>
                              </tr>
                      </table>
        
        

        

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">no side effects</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-132">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-132" class="collapse collapsable-details " >
          
          <pre><p>13:16:56.916 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n) RETURN id(n)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:56.916 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) RETURN id(n)
13:16:56.921 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().project('id(n)').by(__.id())
13:16:56.922 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH ()-[r]-&gt;() RETURN id(r)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:56.923 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH ()-[r]-&gt;() RETURN id(r)
13:16:56.931 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.E().project('id(r)').by(__.id())
13:16:56.933 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n)
UNWIND labels(n) AS label
RETURN DISTINCT label}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:56.933 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) UNWIND labels(n) AS label RETURN DISTINCT label
13:16:56.939 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().map(__.label().is(neq('vertex')).fold()).unfold().project('label').by(__.identity()).dedup()
13:16:56.941 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().as('V').properties().project('nodeId', 'key', 'value').by(__.select('V').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:56.943 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().outE().as('E').properties().project('relId', 'key', 'value').by(__.select('E').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
-labels:        0
+labels:        0
+nodes:         0
-nodes:         0
-properties:    0
+properties:    0
-relationships: 0
+relationships: 0</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-133">
    
<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-133" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-134">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-134" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Given</span>
  <span class="name">an empty graph</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-135">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-135" class="collapse collapsable-details " >
          
          <pre><p>13:16:56.956 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().drop()}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-136">
          <a>Doc string</a>
      </div>
      <div id="msg-136" class="collapse collapsable-details">
        <pre>CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-137">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-137" class="collapse collapsable-details " >
          
          <pre><p>13:16:56.958 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:56.960 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (s:Single), (a:A {prop: 42}),        (b:B {prop: 46}), (c:C) CREATE (s)-[:REL]-&gt;(a),        (s)-[:REL]-&gt;(b),        (a)-[:REL]-&gt;(c),        (b)-[:LOOP]-&gt;(b)
13:16:56.970 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('Single').as('s').addV('A').as('a').property(single, 'prop', 42).addV('B').as('b').property(single, 'prop', 46).addV('C').as('c').addE('REL').from('s').to('a').addE('REL').from('s').to('b').addE('REL').from('a').to('c').addE('LOOP').from('b').to('b').barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-138">
    
<div class="brief passed">
  <span class="keyword indention">Scenario</span>
  <span class="name">Optionally matching self-loops without matches</span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-138" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-139">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-139" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">When</span>
  <span class="name">executing query:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-140">
          <a>Doc string</a>
      </div>
      <div id="msg-140" class="collapse collapsable-details">
        <pre>MATCH (a)
WHERE NOT (a:B)
OPTIONAL MATCH (a)-[r]-&gt;(a)
RETURN r</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-141">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-141" class="collapse collapsable-details " >
          
          <pre><p>13:16:57.029 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (a)
WHERE NOT (a:B)
OPTIONAL MATCH (a)-[r]-&gt;(a)
RETURN r}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:57.044 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (a) WHERE NOT (a:B) OPTIONAL MATCH (a)-[r]-&gt;(a) RETURN r
13:16:57.058 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().as('a').where(__.not(__.select('a').hasLabel('B'))).choose(__.select('a').outE().as('r').inV().as('  GENERATED5').where(__.select('  GENERATED5').where(eq('a'))), __.select('a').outE().as('r').inV().as('  GENERATED5').where(__.select('  GENERATED5').where(eq('a'))), __.constant('  cypher.null').as('r')).select('r').project('r').by(__.choose(neq('  cypher.null'), __.project('  cypher.element', '  cypher.inv', '  cypher.outv').by(__.valueMap().with('~tinkerpop.valueMap.tokens')).by(__.inV().id()).by(__.outV().id())))
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Then</span>
  <span class="name">the result should be:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


                  <table class="step-arguments">
                          <tr>
                                  <td>r</td>
                              </tr>
                          <tr>
                                  <td>null</td>
                              </tr>
                          <tr>
                                  <td>null</td>
                              </tr>
                          <tr>
                                  <td>null</td>
                              </tr>
                      </table>
        
        

        

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">no side effects</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-142">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-142" class="collapse collapsable-details " >
          
          <pre><p>13:16:57.063 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n) RETURN id(n)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:57.065 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) RETURN id(n)
13:16:57.071 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().project('id(n)').by(__.id())
13:16:57.078 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH ()-[r]-&gt;() RETURN id(r)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:57.079 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH ()-[r]-&gt;() RETURN id(r)
13:16:57.085 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.E().project('id(r)').by(__.id())
13:16:57.087 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n)
UNWIND labels(n) AS label
RETURN DISTINCT label}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:57.088 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) UNWIND labels(n) AS label RETURN DISTINCT label
13:16:57.092 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().map(__.label().is(neq('vertex')).fold()).unfold().project('label').by(__.identity()).dedup()
13:16:57.094 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().as('V').properties().project('nodeId', 'key', 'value').by(__.select('V').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:57.098 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().outE().as('E').properties().project('relId', 'key', 'value').by(__.select('E').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
-labels:        0
+labels:        0
+nodes:         0
-nodes:         0
-properties:    0
+properties:    0
-relationships: 0
+relationships: 0</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-143">
    
<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-143" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-144">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-144" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Given</span>
  <span class="name">an empty graph</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-145">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-145" class="collapse collapsable-details " >
          
          <pre><p>13:16:57.109 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().drop()}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-146">
          <a>Doc string</a>
      </div>
      <div id="msg-146" class="collapse collapsable-details">
        <pre>CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-147">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-147" class="collapse collapsable-details " >
          
          <pre><p>13:16:57.114 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (s:Single), (a:A {prop: 42}),        (b:B {prop: 46}), (c:C) CREATE (s)-[:REL]-&gt;(a),        (s)-[:REL]-&gt;(b),        (a)-[:REL]-&gt;(c),        (b)-[:LOOP]-&gt;(b)
13:16:57.115 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:57.134 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('Single').as('s').addV('A').as('a').property(single, 'prop', 42).addV('B').as('b').property(single, 'prop', 46).addV('C').as('c').addE('REL').from('s').to('a').addE('REL').from('s').to('b').addE('REL').from('a').to('c').addE('LOOP').from('b').to('b').barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-148">
    
<div class="brief passed">
  <span class="keyword indention">Scenario</span>
  <span class="name">Variable length optional relationships with bound nodes</span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-148" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-149">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-149" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">When</span>
  <span class="name">executing query:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-150">
          <a>Doc string</a>
      </div>
      <div id="msg-150" class="collapse collapsable-details">
        <pre>MATCH (a:Single), (x:C)
OPTIONAL MATCH (a)-[*]-&gt;(x)
RETURN x</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-151">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-151" class="collapse collapsable-details " >
          
          <pre><p>13:16:57.189 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (a:Single), (x:C)
OPTIONAL MATCH (a)-[*]-&gt;(x)
RETURN x}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:57.189 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (a:Single), (x:C) OPTIONAL MATCH (a)-[*]-&gt;(x) RETURN x
13:16:57.198 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().as('a').hasLabel('Single').V().as('x').hasLabel('C').choose(__.select('a').repeat(__.outE().as('  UNNAMED43').inV()).emit().times(10).as('  GENERATED5').where(__.select('  GENERATED5').where(eq('x'))).optional(__.select(all, '  UNNAMED43').as('  UNNAMED43')), __.select('a').repeat(__.outE().as('  UNNAMED43').inV()).emit().times(10).as('  GENERATED5').where(__.select('  GENERATED5').where(eq('x'))).optional(__.select(all, '  UNNAMED43').as('  UNNAMED43')), __.constant('  cypher.null').as('  UNNAMED43')).select('x').project('x').by(__.choose(neq('  cypher.null'), __.valueMap().with('~tinkerpop.valueMap.tokens')))
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Then</span>
  <span class="name">the result should be:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


                  <table class="step-arguments">
                          <tr>
                                  <td>x</td>
                              </tr>
                          <tr>
                                  <td>(:C)</td>
                              </tr>
                      </table>
        
        

        

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">no side effects</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-152">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-152" class="collapse collapsable-details " >
          
          <pre><p>13:16:57.201 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n) RETURN id(n)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:57.202 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) RETURN id(n)
13:16:57.206 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().project('id(n)').by(__.id())
13:16:57.208 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH ()-[r]-&gt;() RETURN id(r)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:57.208 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH ()-[r]-&gt;() RETURN id(r)
13:16:57.216 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.E().project('id(r)').by(__.id())
13:16:57.217 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n)
UNWIND labels(n) AS label
RETURN DISTINCT label}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:57.218 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) UNWIND labels(n) AS label RETURN DISTINCT label
13:16:57.224 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().map(__.label().is(neq('vertex')).fold()).unfold().project('label').by(__.identity()).dedup()
13:16:57.225 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().as('V').properties().project('nodeId', 'key', 'value').by(__.select('V').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:57.229 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().outE().as('E').properties().project('relId', 'key', 'value').by(__.select('E').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
-labels:        0
+labels:        0
+nodes:         0
-nodes:         0
-properties:    0
+properties:    0
-relationships: 0
+relationships: 0</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-153">
    
<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-153" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-154">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-154" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Given</span>
  <span class="name">an empty graph</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-155">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-155" class="collapse collapsable-details " >
          
          <pre><p>13:16:57.241 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().drop()}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-156">
          <a>Doc string</a>
      </div>
      <div id="msg-156" class="collapse collapsable-details">
        <pre>CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-157">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-157" class="collapse collapsable-details " >
          
          <pre><p>13:16:57.244 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:57.246 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (s:Single), (a:A {prop: 42}),        (b:B {prop: 46}), (c:C) CREATE (s)-[:REL]-&gt;(a),        (s)-[:REL]-&gt;(b),        (a)-[:REL]-&gt;(c),        (b)-[:LOOP]-&gt;(b)
13:16:57.255 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('Single').as('s').addV('A').as('a').property(single, 'prop', 42).addV('B').as('b').property(single, 'prop', 46).addV('C').as('c').addE('REL').from('s').to('a').addE('REL').from('s').to('b').addE('REL').from('a').to('c').addE('LOOP').from('b').to('b').barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-158">
    
<div class="brief passed">
  <span class="keyword indention">Scenario</span>
  <span class="name">Variable length optional relationships with bound nodes, no matches</span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-158" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-159">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-159" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">When</span>
  <span class="name">executing query:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-160">
          <a>Doc string</a>
      </div>
      <div id="msg-160" class="collapse collapsable-details">
        <pre>MATCH (a:A), (b:B)
OPTIONAL MATCH p = (a)-[*]-&gt;(b)
RETURN p</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-161">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-161" class="collapse collapsable-details " >
          
          <pre><p>13:16:57.313 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (a:A), (b:B)
OPTIONAL MATCH p = (a)-[*]-&gt;(b)
RETURN p}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:57.314 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (a:A), (b:B) OPTIONAL MATCH p = (a)-[*]-&gt;(b) RETURN p
13:16:57.346 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().as('a').hasLabel('A').V().as('b').hasLabel('B').choose(__.V().as('  cypher.match.start.p').as('  GENERATED3').where(__.select('  GENERATED3').where(eq('a'))).repeat(__.outE().as('  UNNAMED42').aggregate('  cypher.path.edge.p').inV()).emit().times(10).as('  GENERATED4').where(__.select('  GENERATED4').where(eq('b'))).path().from('  cypher.match.start.p').as('p').optional(__.select(all, '  UNNAMED42').as('  UNNAMED42')), __.V().as('  cypher.match.start.p').as('  GENERATED3').where(__.select('  GENERATED3').where(eq('a'))).repeat(__.outE().as('  UNNAMED42').aggregate('  cypher.path.edge.p').inV()).emit().times(10).as('  GENERATED4').where(__.select('  GENERATED4').where(eq('b'))).path().from('  cypher.match.start.p').as('p').optional(__.select(all, '  UNNAMED42').as('  UNNAMED42')), __.constant('  cypher.null').as('  UNNAMED42').as('p')).select('p').project('p').by(__.choose(neq('  cypher.null'), __.is(neq('  cypher.unused')).project('  cypher.relationship', '  cypher.element').by(__.select('  cypher.path.edge.p').unfold().project('  cypher.id', '  cypher.inv', '  cypher.outv').by(__.id()).by(__.inV().id()).by(__.outV().id()).fold()).by(__.unfold().is(neq('  cypher.start')).valueMap().with('~tinkerpop.valueMap.tokens').fold())))
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Then</span>
  <span class="name">the result should be:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


                  <table class="step-arguments">
                          <tr>
                                  <td>p</td>
                              </tr>
                          <tr>
                                  <td>null</td>
                              </tr>
                      </table>
        
        

        

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">no side effects</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-162">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-162" class="collapse collapsable-details " >
          
          <pre><p>13:16:57.353 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n) RETURN id(n)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:57.354 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) RETURN id(n)
13:16:57.359 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().project('id(n)').by(__.id())
13:16:57.363 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH ()-[r]-&gt;() RETURN id(r)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:57.366 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH ()-[r]-&gt;() RETURN id(r)
13:16:57.372 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.E().project('id(r)').by(__.id())
13:16:57.373 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n)
UNWIND labels(n) AS label
RETURN DISTINCT label}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:57.373 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) UNWIND labels(n) AS label RETURN DISTINCT label
13:16:57.381 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().map(__.label().is(neq('vertex')).fold()).unfold().project('label').by(__.identity()).dedup()
13:16:57.383 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().as('V').properties().project('nodeId', 'key', 'value').by(__.select('V').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:57.385 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().outE().as('E').properties().project('relId', 'key', 'value').by(__.select('E').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
-labels:        0
+labels:        0
+nodes:         0
-nodes:         0
-properties:    0
+properties:    0
-relationships: 0
+relationships: 0</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-163">
    
<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-163" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-164">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-164" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Given</span>
  <span class="name">an empty graph</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-165">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-165" class="collapse collapsable-details " >
          
          <pre><p>13:16:57.398 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().drop()}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-166">
          <a>Doc string</a>
      </div>
      <div id="msg-166" class="collapse collapsable-details">
        <pre>CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-167">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-167" class="collapse collapsable-details " >
          
          <pre><p>13:16:57.401 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:57.401 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (s:Single), (a:A {prop: 42}),        (b:B {prop: 46}), (c:C) CREATE (s)-[:REL]-&gt;(a),        (s)-[:REL]-&gt;(b),        (a)-[:REL]-&gt;(c),        (b)-[:LOOP]-&gt;(b)
13:16:57.409 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('Single').as('s').addV('A').as('a').property(single, 'prop', 42).addV('B').as('b').property(single, 'prop', 46).addV('C').as('c').addE('REL').from('s').to('a').addE('REL').from('s').to('b').addE('REL').from('a').to('c').addE('LOOP').from('b').to('b').barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-168">
    
<div class="brief passed">
  <span class="keyword indention">Scenario</span>
  <span class="name">Longer pattern with bound nodes</span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-168" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-169">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-169" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">When</span>
  <span class="name">executing query:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-170">
          <a>Doc string</a>
      </div>
      <div id="msg-170" class="collapse collapsable-details">
        <pre>MATCH (a:Single), (c:C)
OPTIONAL MATCH (a)--&gt;(b)--&gt;(c)
RETURN b</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-171">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-171" class="collapse collapsable-details " >
          
          <pre><p>13:16:57.465 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (a:Single), (c:C)
OPTIONAL MATCH (a)--&gt;(b)--&gt;(c)
RETURN b}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:57.465 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (a:Single), (c:C) OPTIONAL MATCH (a)--&gt;(b)--&gt;(c) RETURN b
13:16:57.489 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().as('a').hasLabel('Single').V().as('c').hasLabel('C').choose(__.select('a').outE().as('  UNNAMED43').inV().as('b').outE().as('  UNNAMED49').inV().as('  GENERATED6').where(__.select('  GENERATED6').where(eq('c'))).where(__.select('  UNNAMED43').where(neq('  UNNAMED49'))), __.select('a').outE().as('  UNNAMED43').inV().as('b').outE().as('  UNNAMED49').inV().as('  GENERATED6').where(__.select('  GENERATED6').where(eq('c'))).where(__.select('  UNNAMED43').where(neq('  UNNAMED49'))), __.constant('  cypher.null').as('  UNNAMED43').as('b').as('  UNNAMED49')).select('b').project('b').by(__.choose(neq('  cypher.null'), __.valueMap().with('~tinkerpop.valueMap.tokens')))
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Then</span>
  <span class="name">the result should be:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


                  <table class="step-arguments">
                          <tr>
                                  <td>b</td>
                              </tr>
                          <tr>
                                  <td>(:A {prop: 42})</td>
                              </tr>
                      </table>
        
        

        

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">no side effects</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-172">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-172" class="collapse collapsable-details " >
          
          <pre><p>13:16:57.504 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n) RETURN id(n)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:57.505 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) RETURN id(n)
13:16:57.513 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().project('id(n)').by(__.id())
13:16:57.515 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH ()-[r]-&gt;() RETURN id(r)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:57.516 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH ()-[r]-&gt;() RETURN id(r)
13:16:57.522 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.E().project('id(r)').by(__.id())
13:16:57.524 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n)
UNWIND labels(n) AS label
RETURN DISTINCT label}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:57.525 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) UNWIND labels(n) AS label RETURN DISTINCT label
13:16:57.533 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().map(__.label().is(neq('vertex')).fold()).unfold().project('label').by(__.identity()).dedup()
13:16:57.534 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().as('V').properties().project('nodeId', 'key', 'value').by(__.select('V').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:57.537 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().outE().as('E').properties().project('relId', 'key', 'value').by(__.select('E').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
-labels:        0
+labels:        0
+nodes:         0
-nodes:         0
-properties:    0
+properties:    0
-relationships: 0
+relationships: 0</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-173">
    
<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-173" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-174">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-174" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Given</span>
  <span class="name">an empty graph</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-175">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-175" class="collapse collapsable-details " >
          
          <pre><p>13:16:57.547 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().drop()}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-176">
          <a>Doc string</a>
      </div>
      <div id="msg-176" class="collapse collapsable-details">
        <pre>CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-177">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-177" class="collapse collapsable-details " >
          
          <pre><p>13:16:57.550 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (s:Single), (a:A {prop: 42}),        (b:B {prop: 46}), (c:C) CREATE (s)-[:REL]-&gt;(a),        (s)-[:REL]-&gt;(b),        (a)-[:REL]-&gt;(c),        (b)-[:LOOP]-&gt;(b)
13:16:57.556 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:57.559 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('Single').as('s').addV('A').as('a').property(single, 'prop', 42).addV('B').as('b').property(single, 'prop', 46).addV('C').as('c').addE('REL').from('s').to('a').addE('REL').from('s').to('b').addE('REL').from('a').to('c').addE('LOOP').from('b').to('b').barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-178">
    
<div class="brief passed">
  <span class="keyword indention">Scenario</span>
  <span class="name">Longer pattern with bound nodes without matches</span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-178" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-179">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-179" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">When</span>
  <span class="name">executing query:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-180">
          <a>Doc string</a>
      </div>
      <div id="msg-180" class="collapse collapsable-details">
        <pre>MATCH (a:A), (c:C)
OPTIONAL MATCH (a)--&gt;(b)--&gt;(c)
RETURN b</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-181">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-181" class="collapse collapsable-details " >
          
          <pre><p>13:16:57.604 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (a:A), (c:C) OPTIONAL MATCH (a)--&gt;(b)--&gt;(c) RETURN b
13:16:57.604 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (a:A), (c:C)
OPTIONAL MATCH (a)--&gt;(b)--&gt;(c)
RETURN b}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:57.617 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().as('a').hasLabel('A').V().as('c').hasLabel('C').choose(__.select('a').outE().as('  UNNAMED38').inV().as('b').outE().as('  UNNAMED44').inV().as('  GENERATED6').where(__.select('  GENERATED6').where(eq('c'))).where(__.select('  UNNAMED38').where(neq('  UNNAMED44'))), __.select('a').outE().as('  UNNAMED38').inV().as('b').outE().as('  UNNAMED44').inV().as('  GENERATED6').where(__.select('  GENERATED6').where(eq('c'))).where(__.select('  UNNAMED38').where(neq('  UNNAMED44'))), __.constant('  cypher.null').as('  UNNAMED38').as('b').as('  UNNAMED44')).select('b').project('b').by(__.choose(neq('  cypher.null'), __.valueMap().with('~tinkerpop.valueMap.tokens')))
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Then</span>
  <span class="name">the result should be:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


                  <table class="step-arguments">
                          <tr>
                                  <td>b</td>
                              </tr>
                          <tr>
                                  <td>null</td>
                              </tr>
                      </table>
        
        

        

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">no side effects</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-182">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-182" class="collapse collapsable-details " >
          
          <pre><p>13:16:57.621 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n) RETURN id(n)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:57.621 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) RETURN id(n)
13:16:57.627 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().project('id(n)').by(__.id())
13:16:57.638 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH ()-[r]-&gt;() RETURN id(r)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:57.639 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH ()-[r]-&gt;() RETURN id(r)
13:16:57.647 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.E().project('id(r)').by(__.id())
13:16:57.649 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n)
UNWIND labels(n) AS label
RETURN DISTINCT label}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:57.649 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) UNWIND labels(n) AS label RETURN DISTINCT label
13:16:57.654 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().map(__.label().is(neq('vertex')).fold()).unfold().project('label').by(__.identity()).dedup()
13:16:57.656 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().as('V').properties().project('nodeId', 'key', 'value').by(__.select('V').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:57.658 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().outE().as('E').properties().project('relId', 'key', 'value').by(__.select('E').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
-labels:        0
+labels:        0
+nodes:         0
-nodes:         0
-properties:    0
+properties:    0
-relationships: 0
+relationships: 0</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-183">
    
<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-183" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-184">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-184" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Given</span>
  <span class="name">an empty graph</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-185">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-185" class="collapse collapsable-details " >
          
          <pre><p>13:16:57.672 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().drop()}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-186">
          <a>Doc string</a>
      </div>
      <div id="msg-186" class="collapse collapsable-details">
        <pre>CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-187">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-187" class="collapse collapsable-details " >
          
          <pre><p>13:16:57.675 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:57.676 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (s:Single), (a:A {prop: 42}),        (b:B {prop: 46}), (c:C) CREATE (s)-[:REL]-&gt;(a),        (s)-[:REL]-&gt;(b),        (a)-[:REL]-&gt;(c),        (b)-[:LOOP]-&gt;(b)
13:16:57.685 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('Single').as('s').addV('A').as('a').property(single, 'prop', 42).addV('B').as('b').property(single, 'prop', 46).addV('C').as('c').addE('REL').from('s').to('a').addE('REL').from('s').to('b').addE('REL').from('a').to('c').addE('LOOP').from('b').to('b').barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-188">
    
<div class="brief passed">
  <span class="keyword indention">Scenario</span>
  <span class="name">Handling correlated optional matches; first does not match implies second does not match</span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-188" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-189">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-189" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">When</span>
  <span class="name">executing query:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-190">
          <a>Doc string</a>
      </div>
      <div id="msg-190" class="collapse collapsable-details">
        <pre>MATCH (a:A), (b:B)
OPTIONAL MATCH (a)--&gt;(x)
OPTIONAL MATCH (x)-[r]-&gt;(b)
RETURN x, r</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-191">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-191" class="collapse collapsable-details " >
          
          <pre><p>13:16:57.737 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (a:A), (b:B) OPTIONAL MATCH (a)--&gt;(x) OPTIONAL MATCH (x)-[r]-&gt;(b) RETURN x, r
13:16:57.737 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (a:A), (b:B)
OPTIONAL MATCH (a)--&gt;(x)
OPTIONAL MATCH (x)-[r]-&gt;(b)
RETURN x, r}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:57.749 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().as('a').hasLabel('A').V().as('b').hasLabel('B').choose(__.select('a').outE().inV().as('x'), __.select('a').outE().inV().as('x'), __.constant('  cypher.null').as('x')).choose(__.select('x').is(neq('  cypher.null')).outE().as('r').inV().as('  GENERATED8').where(__.select('  GENERATED8').where(eq('b'))), __.select('x').is(neq('  cypher.null')).outE().as('r').inV().as('  GENERATED8').where(__.select('  GENERATED8').where(eq('b'))), __.constant('  cypher.null').as('r')).select('x', 'r').project('x', 'r').by(__.select('x').choose(neq('  cypher.null'), __.valueMap().with('~tinkerpop.valueMap.tokens'))).by(__.select('r').choose(neq('  cypher.null'), __.project('  cypher.element', '  cypher.inv', '  cypher.outv').by(__.valueMap().with('~tinkerpop.valueMap.tokens')).by(__.inV().id()).by(__.outV().id())))
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Then</span>
  <span class="name">the result should be:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


                  <table class="step-arguments">
                          <tr>
                                  <td>x</td>
                                  <td>r</td>
                              </tr>
                          <tr>
                                  <td>(:C)</td>
                                  <td>null</td>
                              </tr>
                      </table>
        
        

        

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">no side effects</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-192">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-192" class="collapse collapsable-details " >
          
          <pre><p>13:16:57.753 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n) RETURN id(n)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:57.754 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) RETURN id(n)
13:16:57.758 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().project('id(n)').by(__.id())
13:16:57.760 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH ()-[r]-&gt;() RETURN id(r)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:57.760 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH ()-[r]-&gt;() RETURN id(r)
13:16:57.767 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.E().project('id(r)').by(__.id())
13:16:57.768 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n)
UNWIND labels(n) AS label
RETURN DISTINCT label}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:57.769 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) UNWIND labels(n) AS label RETURN DISTINCT label
13:16:57.773 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().map(__.label().is(neq('vertex')).fold()).unfold().project('label').by(__.identity()).dedup()
13:16:57.775 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().as('V').properties().project('nodeId', 'key', 'value').by(__.select('V').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:57.776 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().outE().as('E').properties().project('relId', 'key', 'value').by(__.select('E').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
-labels:        0
+labels:        0
+nodes:         0
-nodes:         0
-properties:    0
+properties:    0
-relationships: 0
+relationships: 0</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-193">
    
<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-193" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-194">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-194" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Given</span>
  <span class="name">an empty graph</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-195">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-195" class="collapse collapsable-details " >
          
          <pre><p>13:16:57.787 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().drop()}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-196">
          <a>Doc string</a>
      </div>
      <div id="msg-196" class="collapse collapsable-details">
        <pre>CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-197">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-197" class="collapse collapsable-details " >
          
          <pre><p>13:16:57.790 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:57.791 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (s:Single), (a:A {prop: 42}),        (b:B {prop: 46}), (c:C) CREATE (s)-[:REL]-&gt;(a),        (s)-[:REL]-&gt;(b),        (a)-[:REL]-&gt;(c),        (b)-[:LOOP]-&gt;(b)
13:16:57.800 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('Single').as('s').addV('A').as('a').property(single, 'prop', 42).addV('B').as('b').property(single, 'prop', 46).addV('C').as('c').addE('REL').from('s').to('a').addE('REL').from('s').to('b').addE('REL').from('a').to('c').addE('LOOP').from('b').to('b').barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-198">
    
<div class="brief passed">
  <span class="keyword indention">Scenario</span>
  <span class="name">Handling optional matches between optionally matched entities</span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-198" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-199">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-199" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">When</span>
  <span class="name">executing query:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-200">
          <a>Doc string</a>
      </div>
      <div id="msg-200" class="collapse collapsable-details">
        <pre>OPTIONAL MATCH (a:NotThere)
WITH a
MATCH (b:B)
WITH a, b
OPTIONAL MATCH (b)-[r:NOR_THIS]-&gt;(a)
RETURN a, b, r</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-201">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-201" class="collapse collapsable-details " >
          
          <pre><p>13:16:57.843 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: OPTIONAL MATCH (a:NotThere) WITH a MATCH (b:B) WITH a, b OPTIONAL MATCH (b)-[r:NOR_THIS]-&gt;(a) RETURN a, b, r
13:16:57.843 [Test worker] DEBUG o.a.t.g.driver.Client - OPTIONAL MATCH (a:NotThere)
WITH a
MATCH (b:B)
WITH a, b
OPTIONAL MATCH (b)-[r:NOR_THIS]-&gt;(a)
RETURN a, b, r}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:57.855 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.inject('  cypher.start').choose(__.V().as('a').hasLabel('NotThere'), __.V().as('a').hasLabel('NotThere'), __.constant('  cypher.null').as('a')).select('a').as('a').V().as('b').hasLabel('B').select('a', 'b').project('a', 'b').by(__.select('a')).by(__.select('b')).as('  GENERATED2').select('a').as('a').select('  GENERATED2').select('b').as('b').choose(__.select('b').is(neq('  cypher.null')).outE('NOR_THIS').as('r').inV().as('  GENERATED7').where(__.select('  GENERATED7').where(eq('a'))), __.select('b').is(neq('  cypher.null')).outE('NOR_THIS').as('r').inV().as('  GENERATED7').where(__.select('  GENERATED7').where(eq('a'))), __.constant('  cypher.null').as('r')).select('a', 'b', 'r').project('a', 'b', 'r').by(__.select('a').choose(neq('  cypher.null'), __.valueMap().with('~tinkerpop.valueMap.tokens'))).by(__.select('b').choose(neq('  cypher.null'), __.valueMap().with('~tinkerpop.valueMap.tokens'))).by(__.select('r').choose(neq('  cypher.null'), __.project('  cypher.element', '  cypher.inv', '  cypher.outv').by(__.valueMap().with('~tinkerpop.valueMap.tokens')).by(__.inV().id()).by(__.outV().id())))
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Then</span>
  <span class="name">the result should be:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


                  <table class="step-arguments">
                          <tr>
                                  <td>a</td>
                                  <td>b</td>
                                  <td>r</td>
                              </tr>
                          <tr>
                                  <td>null</td>
                                  <td>(:B {prop: 46})</td>
                                  <td>null</td>
                              </tr>
                      </table>
        
        

        

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">no side effects</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-202">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-202" class="collapse collapsable-details " >
          
          <pre><p>13:16:57.863 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n) RETURN id(n)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:57.864 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) RETURN id(n)
13:16:57.870 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().project('id(n)').by(__.id())
13:16:57.871 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH ()-[r]-&gt;() RETURN id(r)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:57.872 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH ()-[r]-&gt;() RETURN id(r)
13:16:57.878 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.E().project('id(r)').by(__.id())
13:16:57.881 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n)
UNWIND labels(n) AS label
RETURN DISTINCT label}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:57.882 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) UNWIND labels(n) AS label RETURN DISTINCT label
13:16:57.887 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().map(__.label().is(neq('vertex')).fold()).unfold().project('label').by(__.identity()).dedup()
13:16:57.889 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().as('V').properties().project('nodeId', 'key', 'value').by(__.select('V').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:57.892 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().outE().as('E').properties().project('relId', 'key', 'value').by(__.select('E').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
-labels:        0
+labels:        0
+nodes:         0
-nodes:         0
-properties:    0
+properties:    0
-relationships: 0
+relationships: 0</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-203">
    
<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-203" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-204">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-204" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Given</span>
  <span class="name">an empty graph</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-205">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-205" class="collapse collapsable-details " >
          
          <pre><p>13:16:57.908 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().drop()}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-206">
          <a>Doc string</a>
      </div>
      <div id="msg-206" class="collapse collapsable-details">
        <pre>CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-207">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-207" class="collapse collapsable-details " >
          
          <pre><p>13:16:57.910 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (s:Single), (a:A {prop: 42}),        (b:B {prop: 46}), (c:C) CREATE (s)-[:REL]-&gt;(a),        (s)-[:REL]-&gt;(b),        (a)-[:REL]-&gt;(c),        (b)-[:LOOP]-&gt;(b)
13:16:57.921 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:57.923 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('Single').as('s').addV('A').as('a').property(single, 'prop', 42).addV('B').as('b').property(single, 'prop', 46).addV('C').as('c').addE('REL').from('s').to('a').addE('REL').from('s').to('b').addE('REL').from('a').to('c').addE('LOOP').from('b').to('b').barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-208">
    
<div class="brief passed">
  <span class="keyword indention">Scenario</span>
  <span class="name">Handling optional matches between nulls</span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-208" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-209">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-209" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">When</span>
  <span class="name">executing query:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-210">
          <a>Doc string</a>
      </div>
      <div id="msg-210" class="collapse collapsable-details">
        <pre>OPTIONAL MATCH (a:NotThere)
OPTIONAL MATCH (b:NotThere)
WITH a, b
OPTIONAL MATCH (b)-[r:NOR_THIS]-&gt;(a)
RETURN a, b, r</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-211">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-211" class="collapse collapsable-details " >
          
          <pre><p>13:16:57.975 [Test worker] DEBUG o.a.t.g.driver.Client - OPTIONAL MATCH (a:NotThere)
OPTIONAL MATCH (b:NotThere)
WITH a, b
OPTIONAL MATCH (b)-[r:NOR_THIS]-&gt;(a)
RETURN a, b, r}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:57.976 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: OPTIONAL MATCH (a:NotThere) OPTIONAL MATCH (b:NotThere) WITH a, b OPTIONAL MATCH (b)-[r:NOR_THIS]-&gt;(a) RETURN a, b, r
13:16:57.989 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.inject('  cypher.start').choose(__.V().as('a').hasLabel('NotThere'), __.V().as('a').hasLabel('NotThere'), __.constant('  cypher.null').as('a')).choose(__.V().as('b').hasLabel('NotThere'), __.V().as('b').hasLabel('NotThere'), __.constant('  cypher.null').as('b')).select('a', 'b').project('a', 'b').by(__.select('a')).by(__.select('b')).as('  GENERATED1').select('a').as('a').select('  GENERATED1').select('b').as('b').choose(__.select('b').is(neq('  cypher.null')).outE('NOR_THIS').as('r').inV().as('  GENERATED6').where(__.select('  GENERATED6').where(eq('a'))), __.select('b').is(neq('  cypher.null')).outE('NOR_THIS').as('r').inV().as('  GENERATED6').where(__.select('  GENERATED6').where(eq('a'))), __.constant('  cypher.null').as('r')).select('a', 'b', 'r').project('a', 'b', 'r').by(__.select('a').choose(neq('  cypher.null'), __.valueMap().with('~tinkerpop.valueMap.tokens'))).by(__.select('b').choose(neq('  cypher.null'), __.valueMap().with('~tinkerpop.valueMap.tokens'))).by(__.select('r').choose(neq('  cypher.null'), __.project('  cypher.element', '  cypher.inv', '  cypher.outv').by(__.valueMap().with('~tinkerpop.valueMap.tokens')).by(__.inV().id()).by(__.outV().id())))
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Then</span>
  <span class="name">the result should be:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


                  <table class="step-arguments">
                          <tr>
                                  <td>a</td>
                                  <td>b</td>
                                  <td>r</td>
                              </tr>
                          <tr>
                                  <td>null</td>
                                  <td>null</td>
                                  <td>null</td>
                              </tr>
                      </table>
        
        

        

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">no side effects</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-212">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-212" class="collapse collapsable-details " >
          
          <pre><p>13:16:57.993 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n) RETURN id(n)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:57.994 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) RETURN id(n)
13:16:58.000 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().project('id(n)').by(__.id())
13:16:58.001 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH ()-[r]-&gt;() RETURN id(r)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:58.002 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH ()-[r]-&gt;() RETURN id(r)
13:16:58.005 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.E().project('id(r)').by(__.id())
13:16:58.006 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n)
UNWIND labels(n) AS label
RETURN DISTINCT label}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:58.007 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) UNWIND labels(n) AS label RETURN DISTINCT label
13:16:58.011 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().map(__.label().is(neq('vertex')).fold()).unfold().project('label').by(__.identity()).dedup()
13:16:58.013 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().as('V').properties().project('nodeId', 'key', 'value').by(__.select('V').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:58.016 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().outE().as('E').properties().project('relId', 'key', 'value').by(__.select('E').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
-labels:        0
+labels:        0
+nodes:         0
-nodes:         0
-properties:    0
+properties:    0
-relationships: 0
+relationships: 0</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-213">
    
<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-213" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-214">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-214" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Given</span>
  <span class="name">an empty graph</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-215">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-215" class="collapse collapsable-details " >
          
          <pre><p>13:16:58.024 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().drop()}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-216">
          <a>Doc string</a>
      </div>
      <div id="msg-216" class="collapse collapsable-details">
        <pre>CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-217">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-217" class="collapse collapsable-details " >
          
          <pre><p>13:16:58.031 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:58.032 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (s:Single), (a:A {prop: 42}),        (b:B {prop: 46}), (c:C) CREATE (s)-[:REL]-&gt;(a),        (s)-[:REL]-&gt;(b),        (a)-[:REL]-&gt;(c),        (b)-[:LOOP]-&gt;(b)
13:16:58.040 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('Single').as('s').addV('A').as('a').property(single, 'prop', 42).addV('B').as('b').property(single, 'prop', 46).addV('C').as('c').addE('REL').from('s').to('a').addE('REL').from('s').to('b').addE('REL').from('a').to('c').addE('LOOP').from('b').to('b').barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-218">
    
<div class="brief passed">
  <span class="keyword indention">Scenario</span>
  <span class="name">OPTIONAL MATCH and `collect()`</span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-218" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-219">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-219" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-220">
          <a>Doc string</a>
      </div>
      <div id="msg-220" class="collapse collapsable-details">
        <pre>CREATE (:DoesExist {property: 42})
CREATE (:DoesExist {property: 43})
CREATE (:DoesExist {property: 44})</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-221">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-221" class="collapse collapsable-details " >
          
          <pre><p>13:16:58.050 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (:DoesExist {property: 42})
CREATE (:DoesExist {property: 43})
CREATE (:DoesExist {property: 44})}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:58.050 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (:DoesExist {property: 42}) CREATE (:DoesExist {property: 43}) CREATE (:DoesExist {property: 44})
13:16:58.054 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('DoesExist').property(single, 'property', 42).addV('DoesExist').property(single, 'property', 43).addV('DoesExist').property(single, 'property', 44).barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">When</span>
  <span class="name">executing query:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-222">
          <a>Doc string</a>
      </div>
      <div id="msg-222" class="collapse collapsable-details">
        <pre>OPTIONAL MATCH (f:DoesExist)
OPTIONAL MATCH (n:DoesNotExist)
RETURN collect(DISTINCT n.property) AS a, collect(DISTINCT f.property) AS b</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-223">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-223" class="collapse collapsable-details " >
          
          <pre><p>13:16:58.093 [Test worker] DEBUG o.a.t.g.driver.Client - OPTIONAL MATCH (f:DoesExist)
OPTIONAL MATCH (n:DoesNotExist)
RETURN collect(DISTINCT n.property) AS a, collect(DISTINCT f.property) AS b}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:58.094 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: OPTIONAL MATCH (f:DoesExist) OPTIONAL MATCH (n:DoesNotExist) RETURN collect(DISTINCT n.property) AS a, collect(DISTINCT f.property) AS b
13:16:58.116 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.inject('  cypher.start').choose(__.V().as('f').hasLabel('DoesExist'), __.V().as('f').hasLabel('DoesExist'), __.constant('  cypher.null').as('f')).choose(__.V().as('n').hasLabel('DoesNotExist'), __.V().as('n').hasLabel('DoesNotExist'), __.constant('  cypher.null').as('n')).select('n', 'f').fold().project('a', 'b').by(__.unfold().select('n').choose(neq('  cypher.null'), __.choose(__.values('property'), __.values('property'), __.constant('  cypher.null'))).dedup().is(neq('  cypher.null')).fold()).by(__.unfold().select('f').choose(neq('  cypher.null'), __.choose(__.values('property'), __.values('property'), __.constant('  cypher.null'))).dedup().is(neq('  cypher.null')).fold())
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Then</span>
  <span class="name">the result should be:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


                  <table class="step-arguments">
                          <tr>
                                  <td>a</td>
                                  <td>b</td>
                              </tr>
                          <tr>
                                  <td>[]</td>
                                  <td>[42, 43, 44]</td>
                              </tr>
                      </table>
        
        

        

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">no side effects</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-224">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-224" class="collapse collapsable-details " >
          
          <pre><p>13:16:58.121 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n) RETURN id(n)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:58.122 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) RETURN id(n)
13:16:58.127 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().project('id(n)').by(__.id())
13:16:58.129 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH ()-[r]-&gt;() RETURN id(r)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:58.129 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH ()-[r]-&gt;() RETURN id(r)
13:16:58.135 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.E().project('id(r)').by(__.id())
13:16:58.136 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n)
UNWIND labels(n) AS label
RETURN DISTINCT label}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:58.136 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) UNWIND labels(n) AS label RETURN DISTINCT label
13:16:58.140 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().map(__.label().is(neq('vertex')).fold()).unfold().project('label').by(__.identity()).dedup()
13:16:58.141 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().as('V').properties().project('nodeId', 'key', 'value').by(__.select('V').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:58.143 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().outE().as('E').properties().project('relId', 'key', 'value').by(__.select('E').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
-labels:        0
+labels:        0
+nodes:         0
-nodes:         0
-properties:    0
+properties:    0
-relationships: 0
+relationships: 0</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-225">
    
<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-225" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-226">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-226" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Given</span>
  <span class="name">an empty graph</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-227">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-227" class="collapse collapsable-details " >
          
          <pre><p>13:16:58.156 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().drop()}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-228">
          <a>Doc string</a>
      </div>
      <div id="msg-228" class="collapse collapsable-details">
        <pre>CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-229">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-229" class="collapse collapsable-details " >
          
          <pre><p>13:16:58.165 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:58.166 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (s:Single), (a:A {prop: 42}),        (b:B {prop: 46}), (c:C) CREATE (s)-[:REL]-&gt;(a),        (s)-[:REL]-&gt;(b),        (a)-[:REL]-&gt;(c),        (b)-[:LOOP]-&gt;(b)
13:16:58.195 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('Single').as('s').addV('A').as('a').property(single, 'prop', 42).addV('B').as('b').property(single, 'prop', 46).addV('C').as('c').addE('REL').from('s').to('a').addE('REL').from('s').to('b').addE('REL').from('a').to('c').addE('LOOP').from('b').to('b').barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-230">
    
<div class="brief passed">
  <span class="keyword indention">Scenario</span>
  <span class="name">OPTIONAL MATCH and WHERE</span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-230" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-231">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-231" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-232">
          <a>Doc string</a>
      </div>
      <div id="msg-232" class="collapse collapsable-details">
        <pre>CREATE
  (:X {val: 1})-[:E1]-&gt;(:Y {val: 2})-[:E2]-&gt;(:Z {val: 3}),
  (:X {val: 4})-[:E1]-&gt;(:Y {val: 5}),
  (:X {val: 6})</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-233">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-233" class="collapse collapsable-details " >
          
          <pre><p>13:16:58.208 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE
  (:X {val: 1})-[:E1]-&gt;(:Y {val: 2})-[:E2]-&gt;(:Z {val: 3}),
  (:X {val: 4})-[:E1]-&gt;(:Y {val: 5}),
  (:X {val: 6})}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:58.208 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE   (:X {val: 1})-[:E1]-&gt;(:Y {val: 2})-[:E2]-&gt;(:Z {val: 3}),   (:X {val: 4})-[:E1]-&gt;(:Y {val: 5}),   (:X {val: 6})
13:16:58.226 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('X').as('  UNNAMED10').property(single, 'val', 1).addV('Y').as('  UNNAMED31').property(single, 'val', 2).addE('E1').from('  UNNAMED10').to('  UNNAMED31').addV('Z').as('  UNNAMED52').property(single, 'val', 3).addE('E2').from('  UNNAMED31').to('  UNNAMED52').addV('X').as('  UNNAMED69').property(single, 'val', 4).addV('Y').as('  UNNAMED90').property(single, 'val', 5).addE('E1').from('  UNNAMED69').to('  UNNAMED90').addV('X').property(single, 'val', 6).barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">When</span>
  <span class="name">executing query:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-234">
          <a>Doc string</a>
      </div>
      <div id="msg-234" class="collapse collapsable-details">
        <pre>MATCH (x:X)
OPTIONAL MATCH (x)-[:E1]-&gt;(y:Y)
WHERE x.val &lt; y.val
RETURN x, y</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-235">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-235" class="collapse collapsable-details " >
          
          <pre><p>13:16:58.304 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (x:X)
OPTIONAL MATCH (x)-[:E1]-&gt;(y:Y)
WHERE x.val &lt; y.val
RETURN x, y}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:58.304 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (x:X) OPTIONAL MATCH (x)-[:E1]-&gt;(y:Y) WHERE x.val &lt; y.val RETURN x, y
13:16:58.340 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().as('x').hasLabel('X').choose(__.select('x').outE('E1').inV().as('y').hasLabel('Y').where(__.select('y').values('val').as('  GENERATED4').select('x').values('val').where(lt('  GENERATED4'))), __.select('x').outE('E1').inV().as('y').hasLabel('Y').where(__.select('y').values('val').as('  GENERATED4').select('x').values('val').where(lt('  GENERATED4'))), __.constant('  cypher.null').as('y')).select('x', 'y').project('x', 'y').by(__.select('x').choose(neq('  cypher.null'), __.valueMap().with('~tinkerpop.valueMap.tokens'))).by(__.select('y').choose(neq('  cypher.null'), __.valueMap().with('~tinkerpop.valueMap.tokens')))
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Then</span>
  <span class="name">the result should be:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


                  <table class="step-arguments">
                          <tr>
                                  <td>x</td>
                                  <td>y</td>
                              </tr>
                          <tr>
                                  <td>(:X {val: 1})</td>
                                  <td>(:Y {val: 2})</td>
                              </tr>
                          <tr>
                                  <td>(:X {val: 4})</td>
                                  <td>(:Y {val: 5})</td>
                              </tr>
                          <tr>
                                  <td>(:X {val: 6})</td>
                                  <td>null</td>
                              </tr>
                      </table>
        
        

        

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">no side effects</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-236">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-236" class="collapse collapsable-details " >
          
          <pre><p>13:16:58.344 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n) RETURN id(n)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:58.345 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) RETURN id(n)
13:16:58.355 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().project('id(n)').by(__.id())
13:16:58.356 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH ()-[r]-&gt;() RETURN id(r)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:58.357 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH ()-[r]-&gt;() RETURN id(r)
13:16:58.365 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.E().project('id(r)').by(__.id())
13:16:58.367 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n)
UNWIND labels(n) AS label
RETURN DISTINCT label}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:58.367 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) UNWIND labels(n) AS label RETURN DISTINCT label
13:16:58.373 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().map(__.label().is(neq('vertex')).fold()).unfold().project('label').by(__.identity()).dedup()
13:16:58.374 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().as('V').properties().project('nodeId', 'key', 'value').by(__.select('V').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:58.377 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().outE().as('E').properties().project('relId', 'key', 'value').by(__.select('E').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
-labels:        0
+labels:        0
+nodes:         0
-nodes:         0
-properties:    0
+properties:    0
-relationships: 0
+relationships: 0</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-237">
    
<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-237" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-238">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-238" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Given</span>
  <span class="name">an empty graph</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-239">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-239" class="collapse collapsable-details " >
          
          <pre><p>13:16:58.400 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().drop()}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-240">
          <a>Doc string</a>
      </div>
      <div id="msg-240" class="collapse collapsable-details">
        <pre>CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-241">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-241" class="collapse collapsable-details " >
          
          <pre><p>13:16:58.402 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (s:Single), (a:A {prop: 42}),        (b:B {prop: 46}), (c:C) CREATE (s)-[:REL]-&gt;(a),        (s)-[:REL]-&gt;(b),        (a)-[:REL]-&gt;(c),        (b)-[:LOOP]-&gt;(b)
13:16:58.405 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:58.413 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('Single').as('s').addV('A').as('a').property(single, 'prop', 42).addV('B').as('b').property(single, 'prop', 46).addV('C').as('c').addE('REL').from('s').to('a').addE('REL').from('s').to('b').addE('REL').from('a').to('c').addE('LOOP').from('b').to('b').barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-242">
    
<div class="brief passed">
  <span class="keyword indention">Scenario</span>
  <span class="name">OPTIONAL MATCH on two relationships and WHERE</span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-242" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-243">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-243" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-244">
          <a>Doc string</a>
      </div>
      <div id="msg-244" class="collapse collapsable-details">
        <pre>CREATE
  (:X {val: 1})-[:E1]-&gt;(:Y {val: 2})-[:E2]-&gt;(:Z {val: 3}),
  (:X {val: 4})-[:E1]-&gt;(:Y {val: 5}),
  (:X {val: 6})</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-245">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-245" class="collapse collapsable-details " >
          
          <pre><p>13:16:58.424 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE
  (:X {val: 1})-[:E1]-&gt;(:Y {val: 2})-[:E2]-&gt;(:Z {val: 3}),
  (:X {val: 4})-[:E1]-&gt;(:Y {val: 5}),
  (:X {val: 6})}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:58.425 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE   (:X {val: 1})-[:E1]-&gt;(:Y {val: 2})-[:E2]-&gt;(:Z {val: 3}),   (:X {val: 4})-[:E1]-&gt;(:Y {val: 5}),   (:X {val: 6})
13:16:58.436 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('X').as('  UNNAMED10').property(single, 'val', 1).addV('Y').as('  UNNAMED31').property(single, 'val', 2).addE('E1').from('  UNNAMED10').to('  UNNAMED31').addV('Z').as('  UNNAMED52').property(single, 'val', 3).addE('E2').from('  UNNAMED31').to('  UNNAMED52').addV('X').as('  UNNAMED69').property(single, 'val', 4).addV('Y').as('  UNNAMED90').property(single, 'val', 5).addE('E1').from('  UNNAMED69').to('  UNNAMED90').addV('X').property(single, 'val', 6).barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">When</span>
  <span class="name">executing query:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-246">
          <a>Doc string</a>
      </div>
      <div id="msg-246" class="collapse collapsable-details">
        <pre>MATCH (x:X)
OPTIONAL MATCH (x)-[:E1]-&gt;(y:Y)-[:E2]-&gt;(z:Z)
WHERE x.val &lt; z.val
RETURN x, y, z</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-247">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-247" class="collapse collapsable-details " >
          
          <pre><p>13:16:58.519 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (x:X) OPTIONAL MATCH (x)-[:E1]-&gt;(y:Y)-[:E2]-&gt;(z:Z) WHERE x.val &lt; z.val RETURN x, y, z
13:16:58.519 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (x:X)
OPTIONAL MATCH (x)-[:E1]-&gt;(y:Y)-[:E2]-&gt;(z:Z)
WHERE x.val &lt; z.val
RETURN x, y, z}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:58.540 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().as('x').hasLabel('X').choose(__.select('x').outE('E1').inV().as('y').hasLabel('Y').outE('E2').inV().as('z').hasLabel('Z').where(__.select('z').values('val').as('  GENERATED5').select('x').values('val').where(lt('  GENERATED5'))), __.select('x').outE('E1').inV().as('y').hasLabel('Y').outE('E2').inV().as('z').hasLabel('Z').where(__.select('z').values('val').as('  GENERATED5').select('x').values('val').where(lt('  GENERATED5'))), __.constant('  cypher.null').as('y').as('z')).select('x', 'y', 'z').project('x', 'y', 'z').by(__.select('x').choose(neq('  cypher.null'), __.valueMap().with('~tinkerpop.valueMap.tokens'))).by(__.select('y').choose(neq('  cypher.null'), __.valueMap().with('~tinkerpop.valueMap.tokens'))).by(__.select('z').choose(neq('  cypher.null'), __.valueMap().with('~tinkerpop.valueMap.tokens')))
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Then</span>
  <span class="name">the result should be:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


                  <table class="step-arguments">
                          <tr>
                                  <td>x</td>
                                  <td>y</td>
                                  <td>z</td>
                              </tr>
                          <tr>
                                  <td>(:X {val: 1})</td>
                                  <td>(:Y {val: 2})</td>
                                  <td>(:Z {val: 3})</td>
                              </tr>
                          <tr>
                                  <td>(:X {val: 4})</td>
                                  <td>null</td>
                                  <td>null</td>
                              </tr>
                          <tr>
                                  <td>(:X {val: 6})</td>
                                  <td>null</td>
                                  <td>null</td>
                              </tr>
                      </table>
        
        

        

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">no side effects</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-248">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-248" class="collapse collapsable-details " >
          
          <pre><p>13:16:58.546 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n) RETURN id(n)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:58.547 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) RETURN id(n)
13:16:58.554 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().project('id(n)').by(__.id())
13:16:58.555 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH ()-[r]-&gt;() RETURN id(r)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:58.556 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH ()-[r]-&gt;() RETURN id(r)
13:16:58.563 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.E().project('id(r)').by(__.id())
13:16:58.565 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n)
UNWIND labels(n) AS label
RETURN DISTINCT label}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:58.566 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) UNWIND labels(n) AS label RETURN DISTINCT label
13:16:58.572 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().map(__.label().is(neq('vertex')).fold()).unfold().project('label').by(__.identity()).dedup()
13:16:58.573 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().as('V').properties().project('nodeId', 'key', 'value').by(__.select('V').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:58.576 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().outE().as('E').properties().project('relId', 'key', 'value').by(__.select('E').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
-labels:        0
+labels:        0
+nodes:         0
-nodes:         0
-properties:    0
+properties:    0
-relationships: 0
+relationships: 0</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-249">
    
<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-249" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-250">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-250" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Given</span>
  <span class="name">an empty graph</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-251">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-251" class="collapse collapsable-details " >
          
          <pre><p>13:16:58.592 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().drop()}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-252">
          <a>Doc string</a>
      </div>
      <div id="msg-252" class="collapse collapsable-details">
        <pre>CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-253">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-253" class="collapse collapsable-details " >
          
          <pre><p>13:16:58.599 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:58.599 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (s:Single), (a:A {prop: 42}),        (b:B {prop: 46}), (c:C) CREATE (s)-[:REL]-&gt;(a),        (s)-[:REL]-&gt;(b),        (a)-[:REL]-&gt;(c),        (b)-[:LOOP]-&gt;(b)
13:16:58.619 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('Single').as('s').addV('A').as('a').property(single, 'prop', 42).addV('B').as('b').property(single, 'prop', 46).addV('C').as('c').addE('REL').from('s').to('a').addE('REL').from('s').to('b').addE('REL').from('a').to('c').addE('LOOP').from('b').to('b').barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.000</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-254">
    
<div class="brief passed">
  <span class="keyword indention">Scenario</span>
  <span class="name">Two OPTIONAL MATCH clauses and WHERE</span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-254" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-255">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-255" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-256">
          <a>Doc string</a>
      </div>
      <div id="msg-256" class="collapse collapsable-details">
        <pre>CREATE
  (:X {val: 1})-[:E1]-&gt;(:Y {val: 2})-[:E2]-&gt;(:Z {val: 3}),
  (:X {val: 4})-[:E1]-&gt;(:Y {val: 5}),
  (:X {val: 6})</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-257">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-257" class="collapse collapsable-details " >
          
          <pre><p>13:16:58.635 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE   (:X {val: 1})-[:E1]-&gt;(:Y {val: 2})-[:E2]-&gt;(:Z {val: 3}),   (:X {val: 4})-[:E1]-&gt;(:Y {val: 5}),   (:X {val: 6})
13:16:58.637 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE
  (:X {val: 1})-[:E1]-&gt;(:Y {val: 2})-[:E2]-&gt;(:Z {val: 3}),
  (:X {val: 4})-[:E1]-&gt;(:Y {val: 5}),
  (:X {val: 6})}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:58.644 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('X').as('  UNNAMED10').property(single, 'val', 1).addV('Y').as('  UNNAMED31').property(single, 'val', 2).addE('E1').from('  UNNAMED10').to('  UNNAMED31').addV('Z').as('  UNNAMED52').property(single, 'val', 3).addE('E2').from('  UNNAMED31').to('  UNNAMED52').addV('X').as('  UNNAMED69').property(single, 'val', 4).addV('Y').as('  UNNAMED90').property(single, 'val', 5).addE('E1').from('  UNNAMED69').to('  UNNAMED90').addV('X').property(single, 'val', 6).barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">When</span>
  <span class="name">executing query:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-258">
          <a>Doc string</a>
      </div>
      <div id="msg-258" class="collapse collapsable-details">
        <pre>MATCH (x:X)
OPTIONAL MATCH (x)-[:E1]-&gt;(y:Y)
OPTIONAL MATCH (y)-[:E2]-&gt;(z:Z)
WHERE x.val &lt; z.val
RETURN x, y, z</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-259">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-259" class="collapse collapsable-details " >
          
          <pre><p>13:16:58.694 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (x:X)
OPTIONAL MATCH (x)-[:E1]-&gt;(y:Y)
OPTIONAL MATCH (y)-[:E2]-&gt;(z:Z)
WHERE x.val &lt; z.val
RETURN x, y, z}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:58.695 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (x:X) OPTIONAL MATCH (x)-[:E1]-&gt;(y:Y) OPTIONAL MATCH (y)-[:E2]-&gt;(z:Z) WHERE x.val &lt; z.val RETURN x, y, z
13:16:58.708 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().as('x').hasLabel('X').choose(__.select('x').outE('E1').inV().as('y').hasLabel('Y'), __.select('x').outE('E1').inV().as('y').hasLabel('Y'), __.constant('  cypher.null').as('y')).choose(__.select('y').is(neq('  cypher.null')).outE('E2').inV().as('z').hasLabel('Z').where(__.select('z').values('val').as('  GENERATED7').select('x').values('val').where(lt('  GENERATED7'))), __.select('y').is(neq('  cypher.null')).outE('E2').inV().as('z').hasLabel('Z').where(__.select('z').values('val').as('  GENERATED7').select('x').values('val').where(lt('  GENERATED7'))), __.constant('  cypher.null').as('z')).select('x', 'y', 'z').project('x', 'y', 'z').by(__.select('x').choose(neq('  cypher.null'), __.valueMap().with('~tinkerpop.valueMap.tokens'))).by(__.select('y').choose(neq('  cypher.null'), __.valueMap().with('~tinkerpop.valueMap.tokens'))).by(__.select('z').choose(neq('  cypher.null'), __.valueMap().with('~tinkerpop.valueMap.tokens')))
</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Then</span>
  <span class="name">the result should be:</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


                  <table class="step-arguments">
                          <tr>
                                  <td>x</td>
                                  <td>y</td>
                                  <td>z</td>
                              </tr>
                          <tr>
                                  <td>(:X {val: 1})</td>
                                  <td>(:Y {val: 2})</td>
                                  <td>(:Z {val: 3})</td>
                              </tr>
                          <tr>
                                  <td>(:X {val: 4})</td>
                                  <td>(:Y {val: 5})</td>
                                  <td>null</td>
                              </tr>
                          <tr>
                                  <td>(:X {val: 6})</td>
                                  <td>null</td>
                                  <td>null</td>
                              </tr>
                      </table>
        
        

        

        
  
        

      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">no side effects</span>
  
  <span class="lead-duration duration">0.000</span>

</div>

        

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-260">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-260" class="collapse collapsable-details " >
          
          <pre><p>13:16:58.715 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n) RETURN id(n)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:58.716 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) RETURN id(n)
13:16:58.721 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().project('id(n)').by(__.id())
13:16:58.723 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH ()-[r]-&gt;() RETURN id(r)}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:58.723 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH ()-[r]-&gt;() RETURN id(r)
13:16:58.733 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.E().project('id(r)').by(__.id())
13:16:58.734 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n)
UNWIND labels(n) AS label
RETURN DISTINCT label}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:58.735 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) UNWIND labels(n) AS label RETURN DISTINCT label
13:16:58.742 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().map(__.label().is(neq('vertex')).fold()).unfold().project('label').by(__.identity()).dedup()
13:16:58.744 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().as('V').properties().project('nodeId', 'key', 'value').by(__.select('V').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
13:16:58.748 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().outE().as('E').properties().project('relId', 'key', 'value').by(__.select('E').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:36715, hostUri=ws://localhost:36715/gremlin}}
-labels:        0
+labels:        0
+nodes:         0
-nodes:         0
-properties:    0
+properties:    0
-relationships: 0
+relationships: 0</p></pre>
        </div>
      </div>
      </div>

        
  
        

      </div>
      </div>
</div>


    

  </div>
</div>

                  </div>

      </div>
    </div>
  </div>
</div>


<div class="container-fluid">
  <div class="row">
    <div class="col-md-10 col-md-offset-10">
      <i class="fa fa-chevron-circle-down fa-2x collapsable-control"
        onClick="javascript:$('#report .collapsable-details').collapse('show')"></i>
      <i class="fa fa-chevron-circle-up fa-2x collapsable-control"
        onClick="javascript:$('#report .collapsable-details').collapse('hide')"></i>
    </div>
  </div>
</div>

<br>

<nav class="navbar navbar-default" id="footer">
  <div class="container-fluid">
    <p class="navbar-text navbar-right">
        <small>generate Cucumber HTML reports via:&nbsp;</small>
        <a class="navbar-link" href="https://github.com/jenkinsci/cucumber-reports-plugin">Jenkins Plugin</a> |
        <a class="navbar-link" href="https://github.com/damianszczepanik/cucumber-reporting">Standalone</a> |
        <a class="navbar-link" href="https://github.com/damianszczepanik/cucumber-sandwich">Sandwich</a> |
        <a class="navbar-link" href="https://github.com/damianszczepanik/maven-cucumber-reporting">Maven</a>
        &nbsp;&nbsp;
    </p>
  </div>
</nav>

</body>
</html>
